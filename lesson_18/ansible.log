2025-11-14 18:46:02,165 p=1328553 u=ivan n=ansible INFO| PLAY [Install Apache web server on web nodes] ************************************************************************************************************
2025-11-14 18:46:02,170 p=1328553 u=ivan n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************************************
2025-11-14 18:46:14,921 p=1328553 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:46:14,921 p=1328553 u=ivan n=ansible INFO| ok: [web1]
2025-11-14 18:46:14,923 p=1328553 u=ivan n=ansible INFO| TASK [Update apt cache] **********************************************************************************************************************************
2025-11-14 18:46:25,533 p=1328553 u=ivan n=ansible INFO| changed: [web1]
2025-11-14 18:46:25,541 p=1328553 u=ivan n=ansible INFO| TASK [Install Ngnx] **************************************************************************************************************************************
2025-11-14 18:46:38,038 p=1328553 u=ivan n=ansible INFO| The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3
  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5
  libwebp7 libxpm4 nginx-common nginx-core
Suggested packages:
  libgd-tools fcgiwrap nginx-doc ssl-cert
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3
  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5
  libwebp7 libxpm4 nginx nginx-common nginx-core
0 upgraded, 20 newly installed, 0 to remove and 4 not upgraded.
2025-11-14 18:46:38,039 p=1328553 u=ivan n=ansible INFO| changed: [web1]
2025-11-14 18:46:38,046 p=1328553 u=ivan n=ansible INFO| TASK [Enable and start Nginx service] ********************************************************************************************************************
2025-11-14 18:46:48,146 p=1328553 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: Could not find the requested service nginx: host
Origin: /home/ivan/Documents/PASV/src/DevOps_2025_Sept/lesson_16/apache.yml:16:7

14         state: present
15
16     - name: Enable and start Nginx service
         ^ column 7


2025-11-14 18:46:48,147 p=1328553 u=ivan n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Could not find the requested service nginx: host"}
2025-11-14 18:46:48,148 p=1328553 u=ivan n=ansible INFO| PLAY RECAP ***********************************************************************************************************************************************
2025-11-14 18:46:48,149 p=1328553 u=ivan n=ansible INFO| web1                       : ok=3    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-11-14 18:49:08,952 p=1330977 u=ivan n=ansible WARNING| [WARNING]: No inventory was parsed, only implicit localhost is available

2025-11-14 18:49:08,955 p=1330977 u=ivan n=ansible WARNING| [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2025-11-14 18:49:22,519 p=1331166 u=ivan n=ansible ERROR| [ERROR]: Task failed: Failed to connect to the host via ssh: Warning: Permanently added '44.222.133.233' (ED25519) to the list of known hosts.
ubuntu@44.222.133.233: Permission denied (publickey).
Origin: <adhoc 'command' task>

{'action': 'command', 'args': {'_raw_params': 'id lisa'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 18:49:22,520 p=1331166 u=ivan n=ansible INFO| db1 | UNREACHABLE! => {
    "changed": false,
    "msg": "Task failed: Failed to connect to the host via ssh: Warning: Permanently added '44.222.133.233' (ED25519) to the list of known hosts.\r\nubuntu@44.222.133.233: Permission denied (publickey).",
    "unreachable": true
}
2025-11-14 18:49:22,531 p=1331166 u=ivan n=ansible ERROR| [ERROR]: Task failed: Failed to connect to the host via ssh: ubuntu@35.174.19.100: Permission denied (publickey).
Origin: <adhoc 'command' task>

{'action': 'command', 'args': {'_raw_params': 'id lisa'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 18:49:22,532 p=1331166 u=ivan n=ansible INFO| web1 | UNREACHABLE! => {
    "changed": false,
    "msg": "Task failed: Failed to connect to the host via ssh: ubuntu@35.174.19.100: Permission denied (publickey).",
    "unreachable": true
}
2025-11-14 18:50:10,553 p=1331779 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:50:10,554 p=1331779 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: non-zero return code
Origin: <adhoc 'command' task>

{'action': 'command', 'args': {'_raw_params': 'id lisa'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 18:50:10,554 p=1331779 u=ivan n=ansible INFO| db1 | FAILED | rc=1 >>
id: â€˜lisaâ€™: no such usernon-zero return code

2025-11-14 18:50:11,110 p=1331779 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:50:11,110 p=1331779 u=ivan n=ansible INFO| web1 | FAILED | rc=1 >>
id: â€˜lisaâ€™: no such usernon-zero return code

2025-11-14 18:51:21,947 p=1332799 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:51:21,948 p=1332799 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: non-zero return code
Origin: <adhoc 'command' task>

{'action': 'command', 'args': {'_raw_params': 'id lisa'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 18:51:21,948 p=1332799 u=ivan n=ansible INFO| db1 | FAILED | rc=1 >>
id: â€˜lisaâ€™: no such usernon-zero return code

2025-11-14 18:51:22,199 p=1332799 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:51:22,199 p=1332799 u=ivan n=ansible INFO| web1 | FAILED | rc=1 >>
id: â€˜lisaâ€™: no such usernon-zero return code

2025-11-14 18:55:22,021 p=1335809 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:55:22,022 p=1335809 u=ivan n=ansible INFO| db1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-14 18:55:22,783 p=1335809 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:55:22,784 p=1335809 u=ivan n=ansible INFO| web1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-14 18:55:35,252 p=1336082 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:55:35,253 p=1336082 u=ivan n=ansible INFO| db1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-14 18:55:35,254 p=1336082 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:55:35,254 p=1336082 u=ivan n=ansible INFO| web1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-14 18:59:47,215 p=1339326 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:59:47,215 p=1339326 u=ivan n=ansible INFO| db1 | CHANGED | rc=0 >>
Linux ip-172-31-72-101 6.8.0-1040-aws #42~22.04.1-Ubuntu SMP Wed Sep 24 10:26:57 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux

2025-11-14 18:59:48,142 p=1339326 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:59:48,142 p=1339326 u=ivan n=ansible INFO| web1 | CHANGED | rc=0 >>
Linux ip-172-31-70-162 6.8.0-1040-aws #42~22.04.1-Ubuntu SMP Wed Sep 24 10:26:57 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux

2025-11-14 19:56:55,078 p=1379734 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 19:56:55,088 p=1379734 u=ivan n=ansible INFO| web1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-14 19:58:52,116 p=1381168 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 19:58:52,117 p=1381168 u=ivan n=ansible INFO| web1 | CHANGED | rc=0 >>
Linux ip-172-31-70-162 6.8.0-1040-aws #42~22.04.1-Ubuntu SMP Wed Sep 24 10:26:57 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux

2025-11-14 19:58:52,209 p=1381168 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 19:58:52,210 p=1381168 u=ivan n=ansible INFO| db1 | CHANGED | rc=0 >>
Linux ip-172-31-72-101 6.8.0-1040-aws #42~22.04.1-Ubuntu SMP Wed Sep 24 10:26:57 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux

2025-11-14 20:00:15,118 p=1382280 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:00:15,128 p=1382280 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: useradd: Permission denied.
useradd: cannot lock /etc/passwd; try again later.

Origin: <adhoc 'user' task>

{'action': 'user', 'args': {'name': 'newuser'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 20:00:15,128 p=1382280 u=ivan n=ansible INFO| web1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:00:15,839 p=1382280 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:00:15,840 p=1382280 u=ivan n=ansible INFO| db1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:01:17,220 p=1383037 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:01:17,220 p=1383037 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: useradd: Permission denied.
useradd: cannot lock /etc/passwd; try again later.

Origin: <adhoc 'user' task>

{'action': 'user', 'args': {'name': 'newuser'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 20:01:17,220 p=1383037 u=ivan n=ansible INFO| web1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:01:17,484 p=1383037 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:01:17,485 p=1383037 u=ivan n=ansible INFO| db1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:02:34,205 p=1384092 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:02:34,215 p=1384092 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: useradd: Permission denied.
useradd: cannot lock /etc/passwd; try again later.

Origin: <adhoc 'user' task>

{'action': 'user', 'args': {'name': 'newuser'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 20:02:34,216 p=1384092 u=ivan n=ansible INFO| db1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:02:35,068 p=1384092 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:02:35,069 p=1384092 u=ivan n=ansible INFO| web1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:03:03,919 p=1384564 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:03:03,920 p=1384564 u=ivan n=ansible INFO| web1 | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": true,
    "comment": "",
    "create_home": true,
    "group": 1001,
    "home": "/home/newuser",
    "name": "newuser",
    "shell": "/bin/sh",
    "state": "present",
    "system": false,
    "uid": 1001
}
2025-11-14 20:03:04,208 p=1384564 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:03:04,209 p=1384564 u=ivan n=ansible INFO| db1 | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": true,
    "comment": "",
    "create_home": true,
    "group": 1001,
    "home": "/home/newuser",
    "name": "newuser",
    "shell": "/bin/sh",
    "state": "present",
    "system": false,
    "uid": 1001
}
2025-11-14 20:05:00,058 p=1386018 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:05:00,058 p=1386018 u=ivan n=ansible INFO| db1 | CHANGED | rc=0 >>
uid=1001(newuser) gid=1001(newuser) groups=1001(newuser)

2025-11-14 20:05:00,245 p=1386018 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:05:00,245 p=1386018 u=ivan n=ansible INFO| web1 | CHANGED | rc=0 >>
uid=1001(newuser) gid=1001(newuser) groups=1001(newuser)

2025-11-14 20:05:42,488 p=1386714 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:05:42,489 p=1386714 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: non-zero return code
Origin: <adhoc 'shell' task>

{'action': 'shell', 'args': {'_raw_params': 'systemctl status nginx'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 20:05:42,489 p=1386714 u=ivan n=ansible INFO| db1 | FAILED | rc=4 >>
Unit nginx.service could not be found.non-zero return code

2025-11-14 20:05:42,821 p=1386714 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:05:42,825 p=1386714 u=ivan n=ansible INFO| web1 | FAILED | rc=4 >>
Unit nginx.service could not be found.non-zero return code

2025-11-14 20:06:44,710 p=1387409 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:06:44,711 p=1387409 u=ivan n=ansible INFO| web1 | CHANGED | rc=0 >>
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3
  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5
  libwebp7 libxpm4 nginx-common nginx-core
Suggested packages:
  libgd-tools fcgiwrap nginx-doc ssl-cert
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3
  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5
  libwebp7 libxpm4 nginx nginx-common nginx-core
0 upgraded, 20 newly installed, 0 to remove and 4 not upgraded.
Need to get 2694 kB of archives.
After this operation, 8346 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]
Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]
Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]
Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]
Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]
Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libwebp7 amd64 1.2.2-2ubuntu0.22.04.2 [206 kB]
Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.12 [185 kB]
Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.2 [36.7 kB]
Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libgd3 amd64 2.3.0-2ubuntu2.3 [129 kB]
Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.7 [40.1 kB]
Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.7 [12.0 kB]
Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.7 [15.5 kB]
Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.7 [13.8 kB]
Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.7 [45.8 kB]
Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.7 [73.0 kB]
Get:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.7 [10.1 kB]
Get:19 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.7 [483 kB]
Get:20 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.7 [3878 B]
Preconfiguring packages ...
Fetched 2694 kB in 0s (30.7 MB/s)
Selecting previously unselected package fonts-dejavu-core.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 66001 files and directories currently installed.)
Preparing to unpack .../00-fonts-dejavu-core_2.37-2build1_all.deb ...
Unpacking fonts-dejavu-core (2.37-2build1) ...
Selecting previously unselected package fontconfig-config.
Preparing to unpack .../01-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...
Unpacking fontconfig-config (2.13.1-4.2ubuntu5) ...
Selecting previously unselected package libdeflate0:amd64.
Preparing to unpack .../02-libdeflate0_1.10-2_amd64.deb ...
Unpacking libdeflate0:amd64 (1.10-2) ...
Selecting previously unselected package libfontconfig1:amd64.
Preparing to unpack .../03-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...
Unpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...
Selecting previously unselected package libjpeg-turbo8:amd64.
Preparing to unpack .../04-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...
Unpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...
Selecting previously unselected package libjpeg8:amd64.
Preparing to unpack .../05-libjpeg8_8c-2ubuntu10_amd64.deb ...
Unpacking libjpeg8:amd64 (8c-2ubuntu10) ...
Selecting previously unselected package libjbig0:amd64.
Preparing to unpack .../06-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...
Unpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...
Selecting previously unselected package libwebp7:amd64.
Preparing to unpack .../07-libwebp7_1.2.2-2ubuntu0.22.04.2_amd64.deb ...
Unpacking libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...
Selecting previously unselected package libtiff5:amd64.
Preparing to unpack .../08-libtiff5_4.3.0-6ubuntu0.12_amd64.deb ...
Unpacking libtiff5:amd64 (4.3.0-6ubuntu0.12) ...
Selecting previously unselected package libxpm4:amd64.
Preparing to unpack .../09-libxpm4_1%3a3.5.12-1ubuntu0.22.04.2_amd64.deb ...
Unpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...
Selecting previously unselected package libgd3:amd64.
Preparing to unpack .../10-libgd3_2.3.0-2ubuntu2.3_amd64.deb ...
Unpacking libgd3:amd64 (2.3.0-2ubuntu2.3) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../11-nginx-common_1.18.0-6ubuntu14.7_all.deb ...
Unpacking nginx-common (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-http-geoip2.
Preparing to unpack .../12-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-http-image-filter.
Preparing to unpack .../13-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-http-xslt-filter.
Preparing to unpack .../14-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-mail.
Preparing to unpack .../15-libnginx-mod-mail_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-stream.
Preparing to unpack .../16-libnginx-mod-stream_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-stream-geoip2.
Preparing to unpack .../17-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package nginx-core.
Preparing to unpack .../18-nginx-core_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking nginx-core (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package nginx.
Preparing to unpack .../19-nginx_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking nginx (1.18.0-6ubuntu14.7) ...
Setting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...
Setting up libdeflate0:amd64 (1.10-2) ...
Setting up nginx-common (1.18.0-6ubuntu14.7) ...
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service â†’ /lib/systemd/system/nginx.service.
Setting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...
Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...
Setting up fonts-dejavu-core (2.37-2build1) ...
Setting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...
Setting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...
Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...
Setting up libjpeg8:amd64 (8c-2ubuntu10) ...
Setting up libnginx-mod-mail (1.18.0-6ubuntu14.7) ...
Setting up fontconfig-config (2.13.1-4.2ubuntu5) ...
Setting up libnginx-mod-stream (1.18.0-6ubuntu14.7) ...
Setting up libtiff5:amd64 (4.3.0-6ubuntu0.12) ...
Setting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...
Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...
Setting up libgd3:amd64 (2.3.0-2ubuntu2.3) ...
Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...
Setting up nginx-core (1.18.0-6ubuntu14.7) ...
 * Upgrading binary nginx       [80G [74G[ OK ]
Setting up nginx (1.18.0-6ubuntu14.7) ...
Processing triggers for ufw (0.36.1-4ubuntu0.1) ...
Processing triggers for man-db (2.10.2-1) ...
Processing triggers for libc-bin (2.35-0ubuntu3.11) ...
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

2025-11-14 20:07:35,734 p=1388245 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:07:35,734 p=1388245 u=ivan n=ansible INFO| web1 | CHANGED | rc=0 >>
â— nginx.service - A high performance web server and a reverse proxy server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: active (running) since Sat 2025-11-15 04:06:38 UTC; 55s ago
       Docs: man:nginx(8)
    Process: 9950 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 9951 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
   Main PID: 10046 (nginx)
      Tasks: 3 (limit: 1073)
     Memory: 5.4M
        CPU: 37ms
     CGroup: /system.slice/nginx.service
             â”œâ”€10046 "nginx: master process /usr/sbin/nginx -g daemon on; master_process on;"
             â”œâ”€10048 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
             â””â”€10049 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""

Nov 15 04:06:37 ip-172-31-70-162 systemd[1]: Starting A high performance web server and a reverse proxy server...
Nov 15 04:06:38 ip-172-31-70-162 systemd[1]: Started A high performance web server and a reverse proxy server.

2025-11-17 18:58:55,934 p=743787 u=ivan n=ansible INFO| PLAY [Configure web servers (Ubuntu only)] *********************************************************************************************
2025-11-17 18:58:55,952 p=743787 u=ivan n=ansible INFO| TASK [Gathering Facts] *****************************************************************************************************************
2025-11-17 18:59:10,500 p=743787 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-17 18:59:10,501 p=743787 u=ivan n=ansible INFO| ok: [web1]
2025-11-17 18:59:10,517 p=743787 u=ivan n=ansible INFO| TASK [webserver : Ensure this role runs only on Ubuntu] ********************************************************************************
2025-11-17 18:59:10,554 p=743787 u=ivan n=ansible INFO| ok: [web1] => {
    "changed": false,
    "msg": "Ubuntu detected, continuing."
}
2025-11-17 18:59:10,560 p=743787 u=ivan n=ansible INFO| TASK [webserver : Install web server package] ******************************************************************************************
2025-11-17 18:59:42,133 p=743787 u=ivan n=ansible INFO| The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils bzip2 libapr1 libaprutil1
  libaprutil1-dbd-sqlite3 libaprutil1-ldap liblua5.3-0 mailcap mime-support
  ssl-cert
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser
  bzip2-doc
The following NEW packages will be installed:
  apache2 apache2-bin apache2-data apache2-utils bzip2 libapr1 libaprutil1
  libaprutil1-dbd-sqlite3 libaprutil1-ldap liblua5.3-0 mailcap mime-support
  ssl-cert
0 upgraded, 13 newly installed, 0 to remove and 4 not upgraded.
2025-11-17 18:59:42,136 p=743787 u=ivan n=ansible INFO| changed: [web1]
2025-11-17 18:59:42,159 p=743787 u=ivan n=ansible INFO| TASK [webserver : Deploy virtual host configuration from template] *********************************************************************
2025-11-17 19:00:15,215 p=743787 u=ivan n=ansible INFO| [0;31m--- before: /etc/apache2/sites-available/000-default.conf[0m
[0;31m[0m[0;32m+++ after: /home/ivan/.ansible/tmp/ansible-local-743787crap0c4q/tmpam43wfqm/vhost.conf.j2[0m
[0;32m[0m[0;36m@@ -1,31 +1,15 @@[0m
[0;36m[0m <VirtualHost *:80>
[0;31m-	# The ServerName directive sets the request scheme, hostname and port that[0m
[0;31m[0m[0;31m-	# the server uses to identify itself. This is used when creating[0m
[0;31m[0m[0;31m-	# redirection URLs. In the context of virtual hosts, the ServerName[0m
[0;31m[0m[0;31m-	# specifies what hostname must appear in the request's Host: header to[0m
[0;31m[0m[0;31m-	# match this virtual host. For the default virtual host (this file) this[0m
[0;31m[0m[0;31m-	# value is not decisive as it is used as a last resort host regardless.[0m
[0;31m[0m[0;31m-	# However, you must set it for any further virtual host explicitly.[0m
[0;31m[0m[0;31m-	#ServerName www.example.com[0m
[0;31m[0m[0;32m+    ServerAdmin webmaster@example.local[0m
[0;32m[0m[0;32m+    ServerName example.local[0m
[0;32m[0m 
[0;31m-	ServerAdmin webmaster@localhost[0m
[0;31m[0m[0;31m-	DocumentRoot /var/www/html[0m
[0;31m[0m[0;32m+    DocumentRoot /var/www/html[0m
[0;32m[0m 
[0;31m-	# Available loglevels: trace8, ..., trace1, debug, info, notice, warn,[0m
[0;31m[0m[0;31m-	# error, crit, alert, emerg.[0m
[0;31m[0m[0;31m-	# It is also possible to configure the loglevel for particular[0m
[0;31m[0m[0;31m-	# modules, e.g.[0m
[0;31m[0m[0;31m-	#LogLevel info ssl:warn[0m
[0;31m[0m[0;32m+    <Directory /var/www/html>[0m
[0;32m[0m[0;32m+        Options Indexes FollowSymLinks[0m
[0;32m[0m[0;32m+        AllowOverride None[0m
[0;32m[0m[0;32m+        Require all granted[0m
[0;32m[0m[0;32m+    </Directory>[0m
[0;32m[0m 
[0;31m-	ErrorLog ${APACHE_LOG_DIR}/error.log[0m
[0;31m[0m[0;31m-	CustomLog ${APACHE_LOG_DIR}/access.log combined[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-	# For most configuration files from conf-available/, which are[0m
[0;31m[0m[0;31m-	# enabled or disabled at a global level, it is possible to[0m
[0;31m[0m[0;31m-	# include a line for only one particular virtual host. For example the[0m
[0;31m[0m[0;31m-	# following line enables the CGI configuration for this host only[0m
[0;31m[0m[0;31m-	# after it has been globally disabled with "a2disconf".[0m
[0;31m[0m[0;31m-	#Include conf-available/serve-cgi-bin.conf[0m
[0;31m[0m[0;32m+    ErrorLog ${APACHE_LOG_DIR}/error.log[0m
[0;32m[0m[0;32m+    CustomLog ${APACHE_LOG_DIR}/access.log combined[0m
[0;32m[0m </VirtualHost>
[0;31m-[0m
[0;31m[0m[0;31m-# vim: syntax=apache ts=4 sw=4 sts=4 sr noet[0m
[0;31m[0m

2025-11-17 19:00:15,216 p=743787 u=ivan n=ansible INFO| changed: [web1]
2025-11-17 19:00:15,224 p=743787 u=ivan n=ansible INFO| TASK [webserver : Create index.html page] **********************************************************************************************
2025-11-17 19:00:46,799 p=743787 u=ivan n=ansible INFO| [0;31m--- before: /var/www/html/index.html[0m
[0;31m[0m[0;32m+++ after: /var/www/html/index.html[0m
[0;32m[0m[0;36m@@ -1,363 +1,7 @@[0m
[0;36m[0m[0;31m-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[0m
[0;31m[0m[0;31m-<html xmlns="http://www.w3.org/1999/xhtml">[0m
[0;31m[0m[0;31m-  <!--[0m
[0;31m[0m[0;31m-    Modified from the Debian original for Ubuntu[0m
[0;31m[0m[0;31m-    Last updated: 2022-03-22[0m
[0;31m[0m[0;31m-    See: https://launchpad.net/bugs/1966004[0m
[0;31m[0m[0;31m-  -->[0m
[0;31m[0m[0;31m-  <head>[0m
[0;31m[0m[0;31m-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />[0m
[0;31m[0m[0;31m-    <title>Apache2 Ubuntu Default Page: It works</title>[0m
[0;31m[0m[0;31m-    <style type="text/css" media="screen">[0m
[0;31m[0m[0;31m-  * {[0m
[0;31m[0m[0;31m-    margin: 0px 0px 0px 0px;[0m
[0;31m[0m[0;31m-    padding: 0px 0px 0px 0px;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  body, html {[0m
[0;31m[0m[0;31m-    padding: 3px 3px 3px 3px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #D8DBE2;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    font-family: Ubuntu, Verdana, sans-serif;[0m
[0;31m[0m[0;31m-    font-size: 11pt;[0m
[0;31m[0m[0;31m-    text-align: center;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.main_page {[0m
[0;31m[0m[0;31m-    position: relative;[0m
[0;31m[0m[0;31m-    display: table;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    width: 800px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    margin-bottom: 3px;[0m
[0;31m[0m[0;31m-    margin-left: auto;[0m
[0;31m[0m[0;31m-    margin-right: auto;[0m
[0;31m[0m[0;31m-    padding: 0px 0px 0px 0px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    border-width: 2px;[0m
[0;31m[0m[0;31m-    border-color: #212738;[0m
[0;31m[0m[0;31m-    border-style: solid;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #FFFFFF;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    text-align: center;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.page_header {[0m
[0;31m[0m[0;31m-    height: 180px;[0m
[0;31m[0m[0;31m-    width: 100%;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #F5F6F7;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.page_header span {[0m
[0;31m[0m[0;31m-    margin: 15px 0px 0px 50px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    font-size: 180%;[0m
[0;31m[0m[0;31m-    font-weight: bold;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.page_header img {[0m
[0;31m[0m[0;31m-    margin: 3px 0px 0px 40px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    border: 0px 0px 0px;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.banner {[0m
[0;31m[0m[0;31m-    padding: 9px 6px 9px 6px;[0m
[0;31m[0m[0;31m-    background-color: #E9510E;[0m
[0;31m[0m[0;31m-    color: #FFFFFF;[0m
[0;31m[0m[0;31m-    font-weight: bold;[0m
[0;31m[0m[0;31m-    font-size: 112%;[0m
[0;31m[0m[0;31m-    text-align: center;[0m
[0;31m[0m[0;31m-    position: absolute;[0m
[0;31m[0m[0;31m-    left: 40%;[0m
[0;31m[0m[0;31m-    bottom: 30px;[0m
[0;31m[0m[0;31m-    width: 20%;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents {[0m
[0;31m[0m[0;31m-    clear: left;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    min-width: 200px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    margin: 3px 3px 3px 3px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #FFFFFF;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    text-align: left;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents_item {[0m
[0;31m[0m[0;31m-    clear: left;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    width: 100%;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    margin: 4px 0px 0px 0px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #FFFFFF;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #000000;[0m
[0;31m[0m[0;31m-    text-align: left;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a {[0m
[0;31m[0m[0;31m-    margin: 6px 0px 0px 6px;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section {[0m
[0;31m[0m[0;31m-    margin: 3px 3px 3px 3px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #FFFFFF;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    text-align: left;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text {[0m
[0;31m[0m[0;31m-    padding: 4px 8px 4px 8px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #000000;[0m
[0;31m[0m[0;31m-    font-size: 100%;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text pre {[0m
[0;31m[0m[0;31m-    margin: 8px 0px 8px 0px;[0m
[0;31m[0m[0;31m-    padding: 8px 8px 8px 8px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    border-width: 1px;[0m
[0;31m[0m[0;31m-    border-style: dotted;[0m
[0;31m[0m[0;31m-    border-color: #000000;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #F5F6F7;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    font-style: italic;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text p {[0m
[0;31m[0m[0;31m-    margin-bottom: 6px;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text ul, div.content_section_text li {[0m
[0;31m[0m[0;31m-    padding: 4px 8px 4px 16px;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.section_header {[0m
[0;31m[0m[0;31m-    padding: 3px 6px 3px 6px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #8E9CB2;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #FFFFFF;[0m
[0;31m[0m[0;31m-    font-weight: bold;[0m
[0;31m[0m[0;31m-    font-size: 112%;[0m
[0;31m[0m[0;31m-    text-align: center;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.section_header_grey {[0m
[0;31m[0m[0;31m-    background-color: #9F9386;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  .floating_element {[0m
[0;31m[0m[0;31m-    position: relative;[0m
[0;31m[0m[0;31m-    float: left;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a,[0m
[0;31m[0m[0;31m-  div.content_section_text a {[0m
[0;31m[0m[0;31m-    text-decoration: none;[0m
[0;31m[0m[0;31m-    font-weight: bold;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a:link,[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a:visited,[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a:active {[0m
[0;31m[0m[0;31m-    color: #000000;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a:hover {[0m
[0;31m[0m[0;31m-    background-color: #000000;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #FFFFFF;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text a:link,[0m
[0;31m[0m[0;31m-  div.content_section_text a:visited,[0m
[0;31m[0m[0;31m-   div.content_section_text a:active {[0m
[0;31m[0m[0;31m-    background-color: #DCDFE6;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #000000;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text a:hover {[0m
[0;31m[0m[0;31m-    background-color: #000000;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #DCDFE6;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.validator {[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-    </style>[0m
[0;31m[0m[0;31m-  </head>[0m
[0;31m[0m[0;31m-  <body>[0m
[0;31m[0m[0;31m-    <div class="main_page">[0m
[0;31m[0m[0;31m-      <div class="page_header floating_element">[0m
[0;31m[0m[0;31m-        <img src="icons/ubuntu-logo.png" alt="Ubuntu Logo"[0m
[0;31m[0m[0;31m-             style="width:184px;height:146px;" class="floating_element" />[0m
[0;31m[0m[0;31m-        <div>[0m
[0;31m[0m[0;31m-          <span style="margin-top: 1.5em;" class="floating_element">[0m
[0;31m[0m[0;31m-            Apache2 Default Page[0m
[0;31m[0m[0;31m-          </span>[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-        <div class="banner">[0m
[0;31m[0m[0;31m-          <div id="about"></div>[0m
[0;31m[0m[0;31m-          It works![0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-      </div>[0m
[0;31m[0m[0;31m-      <div class="content_section floating_element">[0m
[0;31m[0m[0;31m-        <div class="content_section_text">[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                This is the default welcome page used to test the correct [0m
[0;31m[0m[0;31m-                operation of the Apache2 server after installation on Ubuntu systems.[0m
[0;31m[0m[0;31m-                It is based on the equivalent page on Debian, from which the Ubuntu Apache[0m
[0;31m[0m[0;31m-                packaging is derived.[0m
[0;31m[0m[0;31m-                If you can read this page, it means that the Apache HTTP server installed at[0m
[0;31m[0m[0;31m-                this site is working properly. You should <b>replace this file</b> (located at[0m
[0;31m[0m[0;31m-                <tt>/var/www/html/index.html</tt>) before continuing to operate your HTTP server.[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                If you are a normal user of this web site and don't know what this page is[0m
[0;31m[0m[0;31m-                about, this probably means that the site is currently unavailable due to[0m
[0;31m[0m[0;31m-                maintenance.[0m
[0;31m[0m[0;31m-                If the problem persists, please contact the site's administrator.[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-        <div class="section_header">[0m
[0;31m[0m[0;31m-          <div id="changes"></div>[0m
[0;31m[0m[0;31m-                Configuration Overview[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-        <div class="content_section_text">[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                Ubuntu's Apache2 default configuration is different from the[0m
[0;31m[0m[0;31m-                upstream default configuration, and split into several files optimized for[0m
[0;31m[0m[0;31m-                interaction with Ubuntu tools. The configuration system is[0m
[0;31m[0m[0;31m-                <b>fully documented in[0m
[0;31m[0m[0;31m-                /usr/share/doc/apache2/README.Debian.gz</b>. Refer to this for the full[0m
[0;31m[0m[0;31m-                documentation. Documentation for the web server itself can be[0m
[0;31m[0m[0;31m-                found by accessing the <a href="/manual">manual</a> if the <tt>apache2-doc</tt>[0m
[0;31m[0m[0;31m-                package was installed on this server.[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                The configuration layout for an Apache2 web server installation on Ubuntu systems is as follows:[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-          <pre>[0m
[0;31m[0m[0;31m-/etc/apache2/[0m
[0;31m[0m[0;31m-|-- apache2.conf[0m
[0;31m[0m[0;31m-|       `--  ports.conf[0m
[0;31m[0m[0;31m-|-- mods-enabled[0m
[0;31m[0m[0;31m-|       |-- *.load[0m
[0;31m[0m[0;31m-|       `-- *.conf[0m
[0;31m[0m[0;31m-|-- conf-enabled[0m
[0;31m[0m[0;31m-|       `-- *.conf[0m
[0;31m[0m[0;31m-|-- sites-enabled[0m
[0;31m[0m[0;31m-|       `-- *.conf[0m
[0;31m[0m[0;31m-          </pre>[0m
[0;31m[0m[0;31m-          <ul>[0m
[0;31m[0m[0;31m-                        <li>[0m
[0;31m[0m[0;31m-                           <tt>apache2.conf</tt> is the main configuration[0m
[0;31m[0m[0;31m-                           file. It puts the pieces together by including all remaining configuration[0m
[0;31m[0m[0;31m-                           files when starting up the web server.[0m
[0;31m[0m[0;31m-                        </li>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-                        <li>[0m
[0;31m[0m[0;31m-                           <tt>ports.conf</tt> is always included from the[0m
[0;31m[0m[0;31m-                           main configuration file. It is used to determine the listening ports for[0m
[0;31m[0m[0;31m-                           incoming connections, and this file can be customized anytime.[0m
[0;31m[0m[0;31m-                        </li>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-                        <li>[0m
[0;31m[0m[0;31m-                           Configuration files in the <tt>mods-enabled/</tt>,[0m
[0;31m[0m[0;31m-                           <tt>conf-enabled/</tt> and <tt>sites-enabled/</tt> directories contain[0m
[0;31m[0m[0;31m-                           particular configuration snippets which manage modules, global configuration[0m
[0;31m[0m[0;31m-                           fragments, or virtual host configurations, respectively.[0m
[0;31m[0m[0;31m-                        </li>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-                        <li>[0m
[0;31m[0m[0;31m-                           They are activated by symlinking available[0m
[0;31m[0m[0;31m-                           configuration files from their respective[0m
[0;31m[0m[0;31m-                           *-available/ counterparts. These should be managed[0m
[0;31m[0m[0;31m-                           by using our helpers[0m
[0;31m[0m[0;31m-                           <tt>[0m
[0;31m[0m[0;31m-                                a2enmod,[0m
[0;31m[0m[0;31m-                                a2dismod,[0m
[0;31m[0m[0;31m-                           </tt>[0m
[0;31m[0m[0;31m-                           <tt>[0m
[0;31m[0m[0;31m-                                a2ensite,[0m
[0;31m[0m[0;31m-                                a2dissite,[0m
[0;31m[0m[0;31m-                            </tt>[0m
[0;31m[0m[0;31m-                                and[0m
[0;31m[0m[0;31m-                           <tt>[0m
[0;31m[0m[0;31m-                                a2enconf,[0m
[0;31m[0m[0;31m-                                a2disconf[0m
[0;31m[0m[0;31m-                           </tt>. See their respective man pages for detailed information.[0m
[0;31m[0m[0;31m-                        </li>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-                        <li>[0m
[0;31m[0m[0;31m-                           The binary is called apache2 and is managed using systemd, so to[0m
[0;31m[0m[0;31m-                           start/stop the service use <tt>systemctl start apache2</tt> and[0m
[0;31m[0m[0;31m-                           <tt>systemctl stop apache2</tt>, and use <tt>systemctl status apache2</tt>[0m
[0;31m[0m[0;31m-                           and <tt>journalctl -u apache2</tt> to check status.  <tt>system</tt>[0m
[0;31m[0m[0;31m-                           and <tt>apache2ctl</tt> can also be used for service management if[0m
[0;31m[0m[0;31m-                           desired.[0m
[0;31m[0m[0;31m-                           <b>Calling <tt>/usr/bin/apache2</tt> directly will not work</b> with the[0m
[0;31m[0m[0;31m-                           default configuration.[0m
[0;31m[0m[0;31m-                        </li>[0m
[0;31m[0m[0;31m-          </ul>[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-        <div class="section_header">[0m
[0;31m[0m[0;31m-            <div id="docroot"></div>[0m
[0;31m[0m[0;31m-                Document Roots[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-        <div class="content_section_text">[0m
[0;31m[0m[0;31m-            <p>[0m
[0;31m[0m[0;31m-                By default, Ubuntu does not allow access through the web browser to[0m
[0;31m[0m[0;31m-                <em>any</em> file outside of those located in <tt>/var/www</tt>,[0m
[0;31m[0m[0;31m-                <a href="http://httpd.apache.org/docs/2.4/mod/mod_userdir.html" rel="nofollow">public_html</a>[0m
[0;31m[0m[0;31m-                directories (when enabled) and <tt>/usr/share</tt> (for web[0m
[0;31m[0m[0;31m-                applications). If your site is using a web document root[0m
[0;31m[0m[0;31m-                located elsewhere (such as in <tt>/srv</tt>) you may need to whitelist your[0m
[0;31m[0m[0;31m-                document root directory in <tt>/etc/apache2/apache2.conf</tt>.[0m
[0;31m[0m[0;31m-            </p>[0m
[0;31m[0m[0;31m-            <p>[0m
[0;31m[0m[0;31m-                The default Ubuntu document root is <tt>/var/www/html</tt>. You[0m
[0;31m[0m[0;31m-                can make your own virtual hosts under /var/www.[0m
[0;31m[0m[0;31m-            </p>[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-        <div class="section_header">[0m
[0;31m[0m[0;31m-          <div id="bugs"></div>[0m
[0;31m[0m[0;31m-                Reporting Problems[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-        <div class="content_section_text">[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                Please use the <tt>ubuntu-bug</tt> tool to report bugs in the[0m
[0;31m[0m[0;31m-                Apache2 package with Ubuntu. However, check <a[0m
[0;31m[0m[0;31m-                href="https://bugs.launchpad.net/ubuntu/+source/apache2"[0m
[0;31m[0m[0;31m-                rel="nofollow">existing bug reports</a> before reporting a new bug.[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                Please report bugs specific to modules (such as PHP and others)[0m
[0;31m[0m[0;31m-                to their respective packages, not to the web server itself.[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-      </div>[0m
[0;31m[0m[0;31m-    </div>[0m
[0;31m[0m[0;31m-    <div class="validator">[0m
[0;31m[0m[0;31m-    </div>[0m
[0;31m[0m[0;31m-  </body>[0m
[0;31m[0m[0;32m+<html>[0m
[0;32m[0m[0;32m+<head><title>Student Web Server</title></head>[0m
[0;32m[0m[0;32m+<body>[0m
[0;32m[0m[0;32m+  <h1>Hello from Ansible!</h1>[0m
[0;32m[0m[0;32m+  <p>This page is served by apache2 on host web1.</p>[0m
[0;32m[0m[0;32m+</body>[0m
[0;32m[0m </html>


2025-11-17 19:00:46,800 p=743787 u=ivan n=ansible INFO| changed: [web1]
2025-11-17 19:00:46,818 p=743787 u=ivan n=ansible INFO| TASK [webserver : Ensure web server service is enabled and running] ********************************************************************
2025-11-17 19:00:57,910 p=743787 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: Unable to start service apache2: Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xeu apache2.service" for details.

Origin: /home/ivan/Documents/PASV/src/DevOps_2025_Sept/lesson_18/roles/webserver/tasks/main.yaml:43:3

41   when: ansible_facts['distribution'] == "Ubuntu"
42
43 - name: Ensure web server service is enabled and running
     ^ column 3


2025-11-17 19:00:57,911 p=743787 u=ivan n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Unable to start service apache2: Job for apache2.service failed because the control process exited with error code.\nSee \"systemctl status apache2.service\" and \"journalctl -xeu apache2.service\" for details.\n"}
2025-11-17 19:00:57,913 p=743787 u=ivan n=ansible INFO| PLAY RECAP *****************************************************************************************************************************
2025-11-17 19:00:57,913 p=743787 u=ivan n=ansible INFO| web1                       : ok=5    changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-11-19 18:47:36,063 p=1490657 u=ivan n=ansible INFO| PLAY [Configure web servers (Ubuntu only)] ************************************************************************************************************
2025-11-19 18:47:36,188 p=1490657 u=ivan n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************************************************
2025-11-19 18:47:46,439 p=1490657 u=ivan n=ansible ERROR| [ERROR]: Task failed: Failed to connect to the host via ssh: ssh: connect to host 35.174.19.100 port 22: Connection timed out

2025-11-19 18:47:46,440 p=1490657 u=ivan n=ansible INFO| fatal: [web1]: UNREACHABLE! => {"changed": false, "msg": "Task failed: Failed to connect to the host via ssh: ssh: connect to host 35.174.19.100 port 22: Connection timed out", "unreachable": true}
2025-11-19 18:47:46,443 p=1490657 u=ivan n=ansible INFO| PLAY RECAP ********************************************************************************************************************************************
2025-11-19 18:47:46,444 p=1490657 u=ivan n=ansible INFO| web1                       : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-11-19 18:48:52,406 p=1491518 u=ivan n=ansible INFO| PLAY [Configure web servers (Ubuntu only)] ************************************************************************************************************
2025-11-19 18:48:52,429 p=1491518 u=ivan n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************************************************
2025-11-19 18:49:06,188 p=1491518 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-19 18:49:06,188 p=1491518 u=ivan n=ansible INFO| ok: [web1]
2025-11-19 18:49:06,205 p=1491518 u=ivan n=ansible INFO| TASK [webserver : Ensure this role runs only on Ubuntu] ***********************************************************************************************
2025-11-19 18:49:06,251 p=1491518 u=ivan n=ansible INFO| ok: [web1] => {
    "changed": false,
    "msg": "Ubuntu detected, continuing."
}
2025-11-19 18:49:06,277 p=1491518 u=ivan n=ansible INFO| TASK [webserver : Install web server package] *********************************************************************************************************
2025-11-19 18:49:35,207 p=1491518 u=ivan n=ansible INFO| The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils bzip2 libapr1 libaprutil1
  libaprutil1-dbd-sqlite3 libaprutil1-ldap liblua5.3-0 mailcap mime-support
  ssl-cert
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser
  bzip2-doc
The following NEW packages will be installed:
  apache2 apache2-bin apache2-data apache2-utils bzip2 libapr1 libaprutil1
  libaprutil1-dbd-sqlite3 libaprutil1-ldap liblua5.3-0 mailcap mime-support
  ssl-cert
0 upgraded, 13 newly installed, 0 to remove and 1 not upgraded.
2025-11-19 18:49:35,208 p=1491518 u=ivan n=ansible INFO| changed: [web1]
2025-11-19 18:49:35,217 p=1491518 u=ivan n=ansible INFO| TASK [webserver : Deploy virtual host configuration from template] ************************************************************************************
2025-11-19 18:50:07,719 p=1491518 u=ivan n=ansible INFO| [0;31m--- before: /etc/apache2/sites-available/000-default.conf[0m
[0;31m[0m[0;32m+++ after: /home/ivan/.ansible/tmp/ansible-local-1491518yfvwpsna/tmpwzylhfx6/vhost.conf.j2[0m
[0;32m[0m[0;36m@@ -1,31 +1,15 @@[0m
[0;36m[0m <VirtualHost *:80>
[0;31m-	# The ServerName directive sets the request scheme, hostname and port that[0m
[0;31m[0m[0;31m-	# the server uses to identify itself. This is used when creating[0m
[0;31m[0m[0;31m-	# redirection URLs. In the context of virtual hosts, the ServerName[0m
[0;31m[0m[0;31m-	# specifies what hostname must appear in the request's Host: header to[0m
[0;31m[0m[0;31m-	# match this virtual host. For the default virtual host (this file) this[0m
[0;31m[0m[0;31m-	# value is not decisive as it is used as a last resort host regardless.[0m
[0;31m[0m[0;31m-	# However, you must set it for any further virtual host explicitly.[0m
[0;31m[0m[0;31m-	#ServerName www.example.com[0m
[0;31m[0m[0;32m+    ServerAdmin webmaster@example.local[0m
[0;32m[0m[0;32m+    ServerName example.local[0m
[0;32m[0m 
[0;31m-	ServerAdmin webmaster@localhost[0m
[0;31m[0m[0;31m-	DocumentRoot /var/www/html[0m
[0;31m[0m[0;32m+    DocumentRoot /var/www/html[0m
[0;32m[0m 
[0;31m-	# Available loglevels: trace8, ..., trace1, debug, info, notice, warn,[0m
[0;31m[0m[0;31m-	# error, crit, alert, emerg.[0m
[0;31m[0m[0;31m-	# It is also possible to configure the loglevel for particular[0m
[0;31m[0m[0;31m-	# modules, e.g.[0m
[0;31m[0m[0;31m-	#LogLevel info ssl:warn[0m
[0;31m[0m[0;32m+    <Directory /var/www/html>[0m
[0;32m[0m[0;32m+        Options Indexes FollowSymLinks[0m
[0;32m[0m[0;32m+        AllowOverride None[0m
[0;32m[0m[0;32m+        Require all granted[0m
[0;32m[0m[0;32m+    </Directory>[0m
[0;32m[0m 
[0;31m-	ErrorLog ${APACHE_LOG_DIR}/error.log[0m
[0;31m[0m[0;31m-	CustomLog ${APACHE_LOG_DIR}/access.log combined[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-	# For most configuration files from conf-available/, which are[0m
[0;31m[0m[0;31m-	# enabled or disabled at a global level, it is possible to[0m
[0;31m[0m[0;31m-	# include a line for only one particular virtual host. For example the[0m
[0;31m[0m[0;31m-	# following line enables the CGI configuration for this host only[0m
[0;31m[0m[0;31m-	# after it has been globally disabled with "a2disconf".[0m
[0;31m[0m[0;31m-	#Include conf-available/serve-cgi-bin.conf[0m
[0;31m[0m[0;32m+    ErrorLog ${APACHE_LOG_DIR}/error.log[0m
[0;32m[0m[0;32m+    CustomLog ${APACHE_LOG_DIR}/access.log combined[0m
[0;32m[0m </VirtualHost>
[0;31m-[0m
[0;31m[0m[0;31m-# vim: syntax=apache ts=4 sw=4 sts=4 sr noet[0m
[0;31m[0m

2025-11-19 18:50:07,719 p=1491518 u=ivan n=ansible INFO| changed: [web1]
2025-11-19 18:50:07,727 p=1491518 u=ivan n=ansible INFO| TASK [webserver : Create index.html page] *************************************************************************************************************
2025-11-19 18:50:38,906 p=1491518 u=ivan n=ansible INFO| [0;31m--- before: /var/www/html/index.html[0m
[0;31m[0m[0;32m+++ after: /var/www/html/index.html[0m
[0;32m[0m[0;36m@@ -1,363 +1,7 @@[0m
[0;36m[0m[0;31m-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">[0m
[0;31m[0m[0;31m-<html xmlns="http://www.w3.org/1999/xhtml">[0m
[0;31m[0m[0;31m-  <!--[0m
[0;31m[0m[0;31m-    Modified from the Debian original for Ubuntu[0m
[0;31m[0m[0;31m-    Last updated: 2022-03-22[0m
[0;31m[0m[0;31m-    See: https://launchpad.net/bugs/1966004[0m
[0;31m[0m[0;31m-  -->[0m
[0;31m[0m[0;31m-  <head>[0m
[0;31m[0m[0;31m-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />[0m
[0;31m[0m[0;31m-    <title>Apache2 Ubuntu Default Page: It works</title>[0m
[0;31m[0m[0;31m-    <style type="text/css" media="screen">[0m
[0;31m[0m[0;31m-  * {[0m
[0;31m[0m[0;31m-    margin: 0px 0px 0px 0px;[0m
[0;31m[0m[0;31m-    padding: 0px 0px 0px 0px;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  body, html {[0m
[0;31m[0m[0;31m-    padding: 3px 3px 3px 3px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #D8DBE2;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    font-family: Ubuntu, Verdana, sans-serif;[0m
[0;31m[0m[0;31m-    font-size: 11pt;[0m
[0;31m[0m[0;31m-    text-align: center;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.main_page {[0m
[0;31m[0m[0;31m-    position: relative;[0m
[0;31m[0m[0;31m-    display: table;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    width: 800px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    margin-bottom: 3px;[0m
[0;31m[0m[0;31m-    margin-left: auto;[0m
[0;31m[0m[0;31m-    margin-right: auto;[0m
[0;31m[0m[0;31m-    padding: 0px 0px 0px 0px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    border-width: 2px;[0m
[0;31m[0m[0;31m-    border-color: #212738;[0m
[0;31m[0m[0;31m-    border-style: solid;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #FFFFFF;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    text-align: center;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.page_header {[0m
[0;31m[0m[0;31m-    height: 180px;[0m
[0;31m[0m[0;31m-    width: 100%;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #F5F6F7;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.page_header span {[0m
[0;31m[0m[0;31m-    margin: 15px 0px 0px 50px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    font-size: 180%;[0m
[0;31m[0m[0;31m-    font-weight: bold;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.page_header img {[0m
[0;31m[0m[0;31m-    margin: 3px 0px 0px 40px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    border: 0px 0px 0px;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.banner {[0m
[0;31m[0m[0;31m-    padding: 9px 6px 9px 6px;[0m
[0;31m[0m[0;31m-    background-color: #E9510E;[0m
[0;31m[0m[0;31m-    color: #FFFFFF;[0m
[0;31m[0m[0;31m-    font-weight: bold;[0m
[0;31m[0m[0;31m-    font-size: 112%;[0m
[0;31m[0m[0;31m-    text-align: center;[0m
[0;31m[0m[0;31m-    position: absolute;[0m
[0;31m[0m[0;31m-    left: 40%;[0m
[0;31m[0m[0;31m-    bottom: 30px;[0m
[0;31m[0m[0;31m-    width: 20%;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents {[0m
[0;31m[0m[0;31m-    clear: left;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    min-width: 200px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    margin: 3px 3px 3px 3px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #FFFFFF;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    text-align: left;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents_item {[0m
[0;31m[0m[0;31m-    clear: left;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    width: 100%;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    margin: 4px 0px 0px 0px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #FFFFFF;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #000000;[0m
[0;31m[0m[0;31m-    text-align: left;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a {[0m
[0;31m[0m[0;31m-    margin: 6px 0px 0px 6px;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section {[0m
[0;31m[0m[0;31m-    margin: 3px 3px 3px 3px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #FFFFFF;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    text-align: left;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text {[0m
[0;31m[0m[0;31m-    padding: 4px 8px 4px 8px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #000000;[0m
[0;31m[0m[0;31m-    font-size: 100%;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text pre {[0m
[0;31m[0m[0;31m-    margin: 8px 0px 8px 0px;[0m
[0;31m[0m[0;31m-    padding: 8px 8px 8px 8px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    border-width: 1px;[0m
[0;31m[0m[0;31m-    border-style: dotted;[0m
[0;31m[0m[0;31m-    border-color: #000000;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #F5F6F7;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    font-style: italic;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text p {[0m
[0;31m[0m[0;31m-    margin-bottom: 6px;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text ul, div.content_section_text li {[0m
[0;31m[0m[0;31m-    padding: 4px 8px 4px 16px;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.section_header {[0m
[0;31m[0m[0;31m-    padding: 3px 6px 3px 6px;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    background-color: #8E9CB2;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #FFFFFF;[0m
[0;31m[0m[0;31m-    font-weight: bold;[0m
[0;31m[0m[0;31m-    font-size: 112%;[0m
[0;31m[0m[0;31m-    text-align: center;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.section_header_grey {[0m
[0;31m[0m[0;31m-    background-color: #9F9386;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  .floating_element {[0m
[0;31m[0m[0;31m-    position: relative;[0m
[0;31m[0m[0;31m-    float: left;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a,[0m
[0;31m[0m[0;31m-  div.content_section_text a {[0m
[0;31m[0m[0;31m-    text-decoration: none;[0m
[0;31m[0m[0;31m-    font-weight: bold;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a:link,[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a:visited,[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a:active {[0m
[0;31m[0m[0;31m-    color: #000000;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.table_of_contents_item a:hover {[0m
[0;31m[0m[0;31m-    background-color: #000000;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #FFFFFF;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text a:link,[0m
[0;31m[0m[0;31m-  div.content_section_text a:visited,[0m
[0;31m[0m[0;31m-   div.content_section_text a:active {[0m
[0;31m[0m[0;31m-    background-color: #DCDFE6;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #000000;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.content_section_text a:hover {[0m
[0;31m[0m[0;31m-    background-color: #000000;[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-    color: #DCDFE6;[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-  div.validator {[0m
[0;31m[0m[0;31m-  }[0m
[0;31m[0m[0;31m-    </style>[0m
[0;31m[0m[0;31m-  </head>[0m
[0;31m[0m[0;31m-  <body>[0m
[0;31m[0m[0;31m-    <div class="main_page">[0m
[0;31m[0m[0;31m-      <div class="page_header floating_element">[0m
[0;31m[0m[0;31m-        <img src="icons/ubuntu-logo.png" alt="Ubuntu Logo"[0m
[0;31m[0m[0;31m-             style="width:184px;height:146px;" class="floating_element" />[0m
[0;31m[0m[0;31m-        <div>[0m
[0;31m[0m[0;31m-          <span style="margin-top: 1.5em;" class="floating_element">[0m
[0;31m[0m[0;31m-            Apache2 Default Page[0m
[0;31m[0m[0;31m-          </span>[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-        <div class="banner">[0m
[0;31m[0m[0;31m-          <div id="about"></div>[0m
[0;31m[0m[0;31m-          It works![0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-      </div>[0m
[0;31m[0m[0;31m-      <div class="content_section floating_element">[0m
[0;31m[0m[0;31m-        <div class="content_section_text">[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                This is the default welcome page used to test the correct [0m
[0;31m[0m[0;31m-                operation of the Apache2 server after installation on Ubuntu systems.[0m
[0;31m[0m[0;31m-                It is based on the equivalent page on Debian, from which the Ubuntu Apache[0m
[0;31m[0m[0;31m-                packaging is derived.[0m
[0;31m[0m[0;31m-                If you can read this page, it means that the Apache HTTP server installed at[0m
[0;31m[0m[0;31m-                this site is working properly. You should <b>replace this file</b> (located at[0m
[0;31m[0m[0;31m-                <tt>/var/www/html/index.html</tt>) before continuing to operate your HTTP server.[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                If you are a normal user of this web site and don't know what this page is[0m
[0;31m[0m[0;31m-                about, this probably means that the site is currently unavailable due to[0m
[0;31m[0m[0;31m-                maintenance.[0m
[0;31m[0m[0;31m-                If the problem persists, please contact the site's administrator.[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-        <div class="section_header">[0m
[0;31m[0m[0;31m-          <div id="changes"></div>[0m
[0;31m[0m[0;31m-                Configuration Overview[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-        <div class="content_section_text">[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                Ubuntu's Apache2 default configuration is different from the[0m
[0;31m[0m[0;31m-                upstream default configuration, and split into several files optimized for[0m
[0;31m[0m[0;31m-                interaction with Ubuntu tools. The configuration system is[0m
[0;31m[0m[0;31m-                <b>fully documented in[0m
[0;31m[0m[0;31m-                /usr/share/doc/apache2/README.Debian.gz</b>. Refer to this for the full[0m
[0;31m[0m[0;31m-                documentation. Documentation for the web server itself can be[0m
[0;31m[0m[0;31m-                found by accessing the <a href="/manual">manual</a> if the <tt>apache2-doc</tt>[0m
[0;31m[0m[0;31m-                package was installed on this server.[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                The configuration layout for an Apache2 web server installation on Ubuntu systems is as follows:[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-          <pre>[0m
[0;31m[0m[0;31m-/etc/apache2/[0m
[0;31m[0m[0;31m-|-- apache2.conf[0m
[0;31m[0m[0;31m-|       `--  ports.conf[0m
[0;31m[0m[0;31m-|-- mods-enabled[0m
[0;31m[0m[0;31m-|       |-- *.load[0m
[0;31m[0m[0;31m-|       `-- *.conf[0m
[0;31m[0m[0;31m-|-- conf-enabled[0m
[0;31m[0m[0;31m-|       `-- *.conf[0m
[0;31m[0m[0;31m-|-- sites-enabled[0m
[0;31m[0m[0;31m-|       `-- *.conf[0m
[0;31m[0m[0;31m-          </pre>[0m
[0;31m[0m[0;31m-          <ul>[0m
[0;31m[0m[0;31m-                        <li>[0m
[0;31m[0m[0;31m-                           <tt>apache2.conf</tt> is the main configuration[0m
[0;31m[0m[0;31m-                           file. It puts the pieces together by including all remaining configuration[0m
[0;31m[0m[0;31m-                           files when starting up the web server.[0m
[0;31m[0m[0;31m-                        </li>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-                        <li>[0m
[0;31m[0m[0;31m-                           <tt>ports.conf</tt> is always included from the[0m
[0;31m[0m[0;31m-                           main configuration file. It is used to determine the listening ports for[0m
[0;31m[0m[0;31m-                           incoming connections, and this file can be customized anytime.[0m
[0;31m[0m[0;31m-                        </li>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-                        <li>[0m
[0;31m[0m[0;31m-                           Configuration files in the <tt>mods-enabled/</tt>,[0m
[0;31m[0m[0;31m-                           <tt>conf-enabled/</tt> and <tt>sites-enabled/</tt> directories contain[0m
[0;31m[0m[0;31m-                           particular configuration snippets which manage modules, global configuration[0m
[0;31m[0m[0;31m-                           fragments, or virtual host configurations, respectively.[0m
[0;31m[0m[0;31m-                        </li>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-                        <li>[0m
[0;31m[0m[0;31m-                           They are activated by symlinking available[0m
[0;31m[0m[0;31m-                           configuration files from their respective[0m
[0;31m[0m[0;31m-                           *-available/ counterparts. These should be managed[0m
[0;31m[0m[0;31m-                           by using our helpers[0m
[0;31m[0m[0;31m-                           <tt>[0m
[0;31m[0m[0;31m-                                a2enmod,[0m
[0;31m[0m[0;31m-                                a2dismod,[0m
[0;31m[0m[0;31m-                           </tt>[0m
[0;31m[0m[0;31m-                           <tt>[0m
[0;31m[0m[0;31m-                                a2ensite,[0m
[0;31m[0m[0;31m-                                a2dissite,[0m
[0;31m[0m[0;31m-                            </tt>[0m
[0;31m[0m[0;31m-                                and[0m
[0;31m[0m[0;31m-                           <tt>[0m
[0;31m[0m[0;31m-                                a2enconf,[0m
[0;31m[0m[0;31m-                                a2disconf[0m
[0;31m[0m[0;31m-                           </tt>. See their respective man pages for detailed information.[0m
[0;31m[0m[0;31m-                        </li>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-                        <li>[0m
[0;31m[0m[0;31m-                           The binary is called apache2 and is managed using systemd, so to[0m
[0;31m[0m[0;31m-                           start/stop the service use <tt>systemctl start apache2</tt> and[0m
[0;31m[0m[0;31m-                           <tt>systemctl stop apache2</tt>, and use <tt>systemctl status apache2</tt>[0m
[0;31m[0m[0;31m-                           and <tt>journalctl -u apache2</tt> to check status.  <tt>system</tt>[0m
[0;31m[0m[0;31m-                           and <tt>apache2ctl</tt> can also be used for service management if[0m
[0;31m[0m[0;31m-                           desired.[0m
[0;31m[0m[0;31m-                           <b>Calling <tt>/usr/bin/apache2</tt> directly will not work</b> with the[0m
[0;31m[0m[0;31m-                           default configuration.[0m
[0;31m[0m[0;31m-                        </li>[0m
[0;31m[0m[0;31m-          </ul>[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-        <div class="section_header">[0m
[0;31m[0m[0;31m-            <div id="docroot"></div>[0m
[0;31m[0m[0;31m-                Document Roots[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-        <div class="content_section_text">[0m
[0;31m[0m[0;31m-            <p>[0m
[0;31m[0m[0;31m-                By default, Ubuntu does not allow access through the web browser to[0m
[0;31m[0m[0;31m-                <em>any</em> file outside of those located in <tt>/var/www</tt>,[0m
[0;31m[0m[0;31m-                <a href="http://httpd.apache.org/docs/2.4/mod/mod_userdir.html" rel="nofollow">public_html</a>[0m
[0;31m[0m[0;31m-                directories (when enabled) and <tt>/usr/share</tt> (for web[0m
[0;31m[0m[0;31m-                applications). If your site is using a web document root[0m
[0;31m[0m[0;31m-                located elsewhere (such as in <tt>/srv</tt>) you may need to whitelist your[0m
[0;31m[0m[0;31m-                document root directory in <tt>/etc/apache2/apache2.conf</tt>.[0m
[0;31m[0m[0;31m-            </p>[0m
[0;31m[0m[0;31m-            <p>[0m
[0;31m[0m[0;31m-                The default Ubuntu document root is <tt>/var/www/html</tt>. You[0m
[0;31m[0m[0;31m-                can make your own virtual hosts under /var/www.[0m
[0;31m[0m[0;31m-            </p>[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-        <div class="section_header">[0m
[0;31m[0m[0;31m-          <div id="bugs"></div>[0m
[0;31m[0m[0;31m-                Reporting Problems[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-        <div class="content_section_text">[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                Please use the <tt>ubuntu-bug</tt> tool to report bugs in the[0m
[0;31m[0m[0;31m-                Apache2 package with Ubuntu. However, check <a[0m
[0;31m[0m[0;31m-                href="https://bugs.launchpad.net/ubuntu/+source/apache2"[0m
[0;31m[0m[0;31m-                rel="nofollow">existing bug reports</a> before reporting a new bug.[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-          <p>[0m
[0;31m[0m[0;31m-                Please report bugs specific to modules (such as PHP and others)[0m
[0;31m[0m[0;31m-                to their respective packages, not to the web server itself.[0m
[0;31m[0m[0;31m-          </p>[0m
[0;31m[0m[0;31m-        </div>[0m
[0;31m[0m[0;31m-[0m
[0;31m[0m[0;31m-      </div>[0m
[0;31m[0m[0;31m-    </div>[0m
[0;31m[0m[0;31m-    <div class="validator">[0m
[0;31m[0m[0;31m-    </div>[0m
[0;31m[0m[0;31m-  </body>[0m
[0;31m[0m[0;32m+<html>[0m
[0;32m[0m[0;32m+<head><title>Student Web Server</title></head>[0m
[0;32m[0m[0;32m+<body>[0m
[0;32m[0m[0;32m+  <h1>Hello from Ansible!</h1>[0m
[0;32m[0m[0;32m+  <p>This page is served by apache2 on host web1.</p>[0m
[0;32m[0m[0;32m+</body>[0m
[0;32m[0m </html>


2025-11-19 18:50:38,907 p=1491518 u=ivan n=ansible INFO| changed: [web1]
2025-11-19 18:50:38,920 p=1491518 u=ivan n=ansible INFO| TASK [webserver : Ensure web server service is enabled and running] ***********************************************************************************
2025-11-19 18:50:50,139 p=1491518 u=ivan n=ansible INFO| ok: [web1]
2025-11-19 18:50:50,158 p=1491518 u=ivan n=ansible INFO| RUNNING HANDLER [webserver : restart webserver] *******************************************************************************************************
2025-11-19 18:51:01,862 p=1491518 u=ivan n=ansible INFO| changed: [web1]
2025-11-19 18:51:01,867 p=1491518 u=ivan n=ansible INFO| PLAY RECAP ********************************************************************************************************************************************
2025-11-19 18:51:01,870 p=1491518 u=ivan n=ansible INFO| web1                       : ok=7    changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-11-19 18:56:40,585 p=1498324 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-19 18:56:40,595 p=1498324 u=ivan n=ansible INFO| web1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-19 18:56:41,089 p=1498324 u=ivan n=ansible WARNING| [WARNING]: Host 'web2' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-19 18:56:41,090 p=1498324 u=ivan n=ansible INFO| web2 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-19 20:32:54,319 p=1560873 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-19 20:32:54,332 p=1560873 u=ivan n=ansible INFO| db1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-19 20:33:31,875 p=1561459 u=ivan n=ansible WARNING| [WARNING]: Could not match supplied host pattern, ignoring: myweb-hosts

2025-11-19 20:33:31,875 p=1561459 u=ivan n=ansible WARNING| [WARNING]: No hosts matched, nothing to do

2025-11-19 20:33:51,159 p=1561693 u=ivan n=ansible WARNING| [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2025-11-19 20:34:04,688 p=1561693 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-19 20:34:04,690 p=1561693 u=ivan n=ansible INFO| web1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-19 20:34:05,332 p=1561693 u=ivan n=ansible WARNING| [WARNING]: Host 'web2' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-19 20:34:05,334 p=1561693 u=ivan n=ansible INFO| web2 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
