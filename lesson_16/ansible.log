2025-11-14 18:46:02,165 p=1328553 u=ivan n=ansible INFO| PLAY [Install Apache web server on web nodes] ************************************************************************************************************
2025-11-14 18:46:02,170 p=1328553 u=ivan n=ansible INFO| TASK [Gathering Facts] ***********************************************************************************************************************************
2025-11-14 18:46:14,921 p=1328553 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:46:14,921 p=1328553 u=ivan n=ansible INFO| ok: [web1]
2025-11-14 18:46:14,923 p=1328553 u=ivan n=ansible INFO| TASK [Update apt cache] **********************************************************************************************************************************
2025-11-14 18:46:25,533 p=1328553 u=ivan n=ansible INFO| changed: [web1]
2025-11-14 18:46:25,541 p=1328553 u=ivan n=ansible INFO| TASK [Install Ngnx] **************************************************************************************************************************************
2025-11-14 18:46:38,038 p=1328553 u=ivan n=ansible INFO| The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3
  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5
  libwebp7 libxpm4 nginx-common nginx-core
Suggested packages:
  libgd-tools fcgiwrap nginx-doc ssl-cert
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3
  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5
  libwebp7 libxpm4 nginx nginx-common nginx-core
0 upgraded, 20 newly installed, 0 to remove and 4 not upgraded.
2025-11-14 18:46:38,039 p=1328553 u=ivan n=ansible INFO| changed: [web1]
2025-11-14 18:46:38,046 p=1328553 u=ivan n=ansible INFO| TASK [Enable and start Nginx service] ********************************************************************************************************************
2025-11-14 18:46:48,146 p=1328553 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: Could not find the requested service nginx: host
Origin: /home/ivan/Documents/PASV/src/DevOps_2025_Sept/lesson_16/apache.yml:16:7

14         state: present
15
16     - name: Enable and start Nginx service
         ^ column 7


2025-11-14 18:46:48,147 p=1328553 u=ivan n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "msg": "Could not find the requested service nginx: host"}
2025-11-14 18:46:48,148 p=1328553 u=ivan n=ansible INFO| PLAY RECAP ***********************************************************************************************************************************************
2025-11-14 18:46:48,149 p=1328553 u=ivan n=ansible INFO| web1                       : ok=3    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-11-14 18:49:08,952 p=1330977 u=ivan n=ansible WARNING| [WARNING]: No inventory was parsed, only implicit localhost is available

2025-11-14 18:49:08,955 p=1330977 u=ivan n=ansible WARNING| [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2025-11-14 18:49:22,519 p=1331166 u=ivan n=ansible ERROR| [ERROR]: Task failed: Failed to connect to the host via ssh: Warning: Permanently added '44.222.133.233' (ED25519) to the list of known hosts.
ubuntu@44.222.133.233: Permission denied (publickey).
Origin: <adhoc 'command' task>

{'action': 'command', 'args': {'_raw_params': 'id lisa'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 18:49:22,520 p=1331166 u=ivan n=ansible INFO| db1 | UNREACHABLE! => {
    "changed": false,
    "msg": "Task failed: Failed to connect to the host via ssh: Warning: Permanently added '44.222.133.233' (ED25519) to the list of known hosts.\r\nubuntu@44.222.133.233: Permission denied (publickey).",
    "unreachable": true
}
2025-11-14 18:49:22,531 p=1331166 u=ivan n=ansible ERROR| [ERROR]: Task failed: Failed to connect to the host via ssh: ubuntu@35.174.19.100: Permission denied (publickey).
Origin: <adhoc 'command' task>

{'action': 'command', 'args': {'_raw_params': 'id lisa'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 18:49:22,532 p=1331166 u=ivan n=ansible INFO| web1 | UNREACHABLE! => {
    "changed": false,
    "msg": "Task failed: Failed to connect to the host via ssh: ubuntu@35.174.19.100: Permission denied (publickey).",
    "unreachable": true
}
2025-11-14 18:50:10,553 p=1331779 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:50:10,554 p=1331779 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: non-zero return code
Origin: <adhoc 'command' task>

{'action': 'command', 'args': {'_raw_params': 'id lisa'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 18:50:10,554 p=1331779 u=ivan n=ansible INFO| db1 | FAILED | rc=1 >>
id: ‚Äòlisa‚Äô: no such usernon-zero return code

2025-11-14 18:50:11,110 p=1331779 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:50:11,110 p=1331779 u=ivan n=ansible INFO| web1 | FAILED | rc=1 >>
id: ‚Äòlisa‚Äô: no such usernon-zero return code

2025-11-14 18:51:21,947 p=1332799 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:51:21,948 p=1332799 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: non-zero return code
Origin: <adhoc 'command' task>

{'action': 'command', 'args': {'_raw_params': 'id lisa'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 18:51:21,948 p=1332799 u=ivan n=ansible INFO| db1 | FAILED | rc=1 >>
id: ‚Äòlisa‚Äô: no such usernon-zero return code

2025-11-14 18:51:22,199 p=1332799 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:51:22,199 p=1332799 u=ivan n=ansible INFO| web1 | FAILED | rc=1 >>
id: ‚Äòlisa‚Äô: no such usernon-zero return code

2025-11-14 18:55:22,021 p=1335809 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:55:22,022 p=1335809 u=ivan n=ansible INFO| db1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-14 18:55:22,783 p=1335809 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:55:22,784 p=1335809 u=ivan n=ansible INFO| web1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-14 18:55:35,252 p=1336082 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:55:35,253 p=1336082 u=ivan n=ansible INFO| db1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-14 18:55:35,254 p=1336082 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:55:35,254 p=1336082 u=ivan n=ansible INFO| web1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-14 18:59:47,215 p=1339326 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:59:47,215 p=1339326 u=ivan n=ansible INFO| db1 | CHANGED | rc=0 >>
Linux ip-172-31-72-101 6.8.0-1040-aws #42~22.04.1-Ubuntu SMP Wed Sep 24 10:26:57 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux

2025-11-14 18:59:48,142 p=1339326 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 18:59:48,142 p=1339326 u=ivan n=ansible INFO| web1 | CHANGED | rc=0 >>
Linux ip-172-31-70-162 6.8.0-1040-aws #42~22.04.1-Ubuntu SMP Wed Sep 24 10:26:57 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux

2025-11-14 19:56:55,078 p=1379734 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 19:56:55,088 p=1379734 u=ivan n=ansible INFO| web1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "ping": "pong"
}
2025-11-14 19:58:52,116 p=1381168 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 19:58:52,117 p=1381168 u=ivan n=ansible INFO| web1 | CHANGED | rc=0 >>
Linux ip-172-31-70-162 6.8.0-1040-aws #42~22.04.1-Ubuntu SMP Wed Sep 24 10:26:57 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux

2025-11-14 19:58:52,209 p=1381168 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 19:58:52,210 p=1381168 u=ivan n=ansible INFO| db1 | CHANGED | rc=0 >>
Linux ip-172-31-72-101 6.8.0-1040-aws #42~22.04.1-Ubuntu SMP Wed Sep 24 10:26:57 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux

2025-11-14 20:00:15,118 p=1382280 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:00:15,128 p=1382280 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: useradd: Permission denied.
useradd: cannot lock /etc/passwd; try again later.

Origin: <adhoc 'user' task>

{'action': 'user', 'args': {'name': 'newuser'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 20:00:15,128 p=1382280 u=ivan n=ansible INFO| web1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:00:15,839 p=1382280 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:00:15,840 p=1382280 u=ivan n=ansible INFO| db1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:01:17,220 p=1383037 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:01:17,220 p=1383037 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: useradd: Permission denied.
useradd: cannot lock /etc/passwd; try again later.

Origin: <adhoc 'user' task>

{'action': 'user', 'args': {'name': 'newuser'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 20:01:17,220 p=1383037 u=ivan n=ansible INFO| web1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:01:17,484 p=1383037 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:01:17,485 p=1383037 u=ivan n=ansible INFO| db1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:02:34,205 p=1384092 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:02:34,215 p=1384092 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: useradd: Permission denied.
useradd: cannot lock /etc/passwd; try again later.

Origin: <adhoc 'user' task>

{'action': 'user', 'args': {'name': 'newuser'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 20:02:34,216 p=1384092 u=ivan n=ansible INFO| db1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:02:35,068 p=1384092 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:02:35,069 p=1384092 u=ivan n=ansible INFO| web1 | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": false,
    "msg": "useradd: Permission denied.\nuseradd: cannot lock /etc/passwd; try again later.\n",
    "name": "newuser",
    "rc": 1
}
2025-11-14 20:03:03,919 p=1384564 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:03:03,920 p=1384564 u=ivan n=ansible INFO| web1 | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": true,
    "comment": "",
    "create_home": true,
    "group": 1001,
    "home": "/home/newuser",
    "name": "newuser",
    "shell": "/bin/sh",
    "state": "present",
    "system": false,
    "uid": 1001
}
2025-11-14 20:03:04,208 p=1384564 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:03:04,209 p=1384564 u=ivan n=ansible INFO| db1 | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.10"
    },
    "changed": true,
    "comment": "",
    "create_home": true,
    "group": 1001,
    "home": "/home/newuser",
    "name": "newuser",
    "shell": "/bin/sh",
    "state": "present",
    "system": false,
    "uid": 1001
}
2025-11-14 20:05:00,058 p=1386018 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:05:00,058 p=1386018 u=ivan n=ansible INFO| db1 | CHANGED | rc=0 >>
uid=1001(newuser) gid=1001(newuser) groups=1001(newuser)

2025-11-14 20:05:00,245 p=1386018 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:05:00,245 p=1386018 u=ivan n=ansible INFO| web1 | CHANGED | rc=0 >>
uid=1001(newuser) gid=1001(newuser) groups=1001(newuser)

2025-11-14 20:05:42,488 p=1386714 u=ivan n=ansible WARNING| [WARNING]: Host 'db1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:05:42,489 p=1386714 u=ivan n=ansible ERROR| [ERROR]: Task failed: Module failed: non-zero return code
Origin: <adhoc 'shell' task>

{'action': 'shell', 'args': {'_raw_params': 'systemctl status nginx'}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-14 20:05:42,489 p=1386714 u=ivan n=ansible INFO| db1 | FAILED | rc=4 >>
Unit nginx.service could not be found.non-zero return code

2025-11-14 20:05:42,821 p=1386714 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:05:42,825 p=1386714 u=ivan n=ansible INFO| web1 | FAILED | rc=4 >>
Unit nginx.service could not be found.non-zero return code

2025-11-14 20:06:44,710 p=1387409 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:06:44,711 p=1387409 u=ivan n=ansible INFO| web1 | CHANGED | rc=0 >>
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3
  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5
  libwebp7 libxpm4 nginx-common nginx-core
Suggested packages:
  libgd-tools fcgiwrap nginx-doc ssl-cert
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3
  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2 libtiff5
  libwebp7 libxpm4 nginx nginx-common nginx-core
0 upgraded, 20 newly installed, 0 to remove and 4 not upgraded.
Need to get 2694 kB of archives.
After this operation, 8346 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 fonts-dejavu-core all 2.37-2build1 [1041 kB]
Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 fontconfig-config all 2.13.1-4.2ubuntu5 [29.1 kB]
Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 libdeflate0 amd64 1.10-2 [70.9 kB]
Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 libfontconfig1 amd64 2.13.1-4.2ubuntu5 [131 kB]
Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg-turbo8 amd64 2.1.2-0ubuntu1 [134 kB]
Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy/main amd64 libjpeg8 amd64 8c-2ubuntu10 [2264 B]
Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libjbig0 amd64 2.1-3.1ubuntu0.22.04.1 [29.2 kB]
Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libwebp7 amd64 1.2.2-2ubuntu0.22.04.2 [206 kB]
Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtiff5 amd64 4.3.0-6ubuntu0.12 [185 kB]
Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libxpm4 amd64 1:3.5.12-1ubuntu0.22.04.2 [36.7 kB]
Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libgd3 amd64 2.3.0-2ubuntu2.3 [129 kB]
Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-common all 1.18.0-6ubuntu14.7 [40.1 kB]
Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-geoip2 amd64 1.18.0-6ubuntu14.7 [12.0 kB]
Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-image-filter amd64 1.18.0-6ubuntu14.7 [15.5 kB]
Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-http-xslt-filter amd64 1.18.0-6ubuntu14.7 [13.8 kB]
Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-mail amd64 1.18.0-6ubuntu14.7 [45.8 kB]
Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream amd64 1.18.0-6ubuntu14.7 [73.0 kB]
Get:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libnginx-mod-stream-geoip2 amd64 1.18.0-6ubuntu14.7 [10.1 kB]
Get:19 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx-core amd64 1.18.0-6ubuntu14.7 [483 kB]
Get:20 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 nginx amd64 1.18.0-6ubuntu14.7 [3878 B]
Preconfiguring packages ...
Fetched 2694 kB in 0s (30.7 MB/s)
Selecting previously unselected package fonts-dejavu-core.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 66001 files and directories currently installed.)
Preparing to unpack .../00-fonts-dejavu-core_2.37-2build1_all.deb ...
Unpacking fonts-dejavu-core (2.37-2build1) ...
Selecting previously unselected package fontconfig-config.
Preparing to unpack .../01-fontconfig-config_2.13.1-4.2ubuntu5_all.deb ...
Unpacking fontconfig-config (2.13.1-4.2ubuntu5) ...
Selecting previously unselected package libdeflate0:amd64.
Preparing to unpack .../02-libdeflate0_1.10-2_amd64.deb ...
Unpacking libdeflate0:amd64 (1.10-2) ...
Selecting previously unselected package libfontconfig1:amd64.
Preparing to unpack .../03-libfontconfig1_2.13.1-4.2ubuntu5_amd64.deb ...
Unpacking libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...
Selecting previously unselected package libjpeg-turbo8:amd64.
Preparing to unpack .../04-libjpeg-turbo8_2.1.2-0ubuntu1_amd64.deb ...
Unpacking libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...
Selecting previously unselected package libjpeg8:amd64.
Preparing to unpack .../05-libjpeg8_8c-2ubuntu10_amd64.deb ...
Unpacking libjpeg8:amd64 (8c-2ubuntu10) ...
Selecting previously unselected package libjbig0:amd64.
Preparing to unpack .../06-libjbig0_2.1-3.1ubuntu0.22.04.1_amd64.deb ...
Unpacking libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...
Selecting previously unselected package libwebp7:amd64.
Preparing to unpack .../07-libwebp7_1.2.2-2ubuntu0.22.04.2_amd64.deb ...
Unpacking libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...
Selecting previously unselected package libtiff5:amd64.
Preparing to unpack .../08-libtiff5_4.3.0-6ubuntu0.12_amd64.deb ...
Unpacking libtiff5:amd64 (4.3.0-6ubuntu0.12) ...
Selecting previously unselected package libxpm4:amd64.
Preparing to unpack .../09-libxpm4_1%3a3.5.12-1ubuntu0.22.04.2_amd64.deb ...
Unpacking libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...
Selecting previously unselected package libgd3:amd64.
Preparing to unpack .../10-libgd3_2.3.0-2ubuntu2.3_amd64.deb ...
Unpacking libgd3:amd64 (2.3.0-2ubuntu2.3) ...
Selecting previously unselected package nginx-common.
Preparing to unpack .../11-nginx-common_1.18.0-6ubuntu14.7_all.deb ...
Unpacking nginx-common (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-http-geoip2.
Preparing to unpack .../12-libnginx-mod-http-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-http-image-filter.
Preparing to unpack .../13-libnginx-mod-http-image-filter_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-http-xslt-filter.
Preparing to unpack .../14-libnginx-mod-http-xslt-filter_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-mail.
Preparing to unpack .../15-libnginx-mod-mail_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-mail (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-stream.
Preparing to unpack .../16-libnginx-mod-stream_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-stream (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package libnginx-mod-stream-geoip2.
Preparing to unpack .../17-libnginx-mod-stream-geoip2_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package nginx-core.
Preparing to unpack .../18-nginx-core_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking nginx-core (1.18.0-6ubuntu14.7) ...
Selecting previously unselected package nginx.
Preparing to unpack .../19-nginx_1.18.0-6ubuntu14.7_amd64.deb ...
Unpacking nginx (1.18.0-6ubuntu14.7) ...
Setting up libxpm4:amd64 (1:3.5.12-1ubuntu0.22.04.2) ...
Setting up libdeflate0:amd64 (1.10-2) ...
Setting up nginx-common (1.18.0-6ubuntu14.7) ...
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service ‚Üí /lib/systemd/system/nginx.service.
Setting up libjbig0:amd64 (2.1-3.1ubuntu0.22.04.1) ...
Setting up libnginx-mod-http-xslt-filter (1.18.0-6ubuntu14.7) ...
Setting up fonts-dejavu-core (2.37-2build1) ...
Setting up libjpeg-turbo8:amd64 (2.1.2-0ubuntu1) ...
Setting up libwebp7:amd64 (1.2.2-2ubuntu0.22.04.2) ...
Setting up libnginx-mod-http-geoip2 (1.18.0-6ubuntu14.7) ...
Setting up libjpeg8:amd64 (8c-2ubuntu10) ...
Setting up libnginx-mod-mail (1.18.0-6ubuntu14.7) ...
Setting up fontconfig-config (2.13.1-4.2ubuntu5) ...
Setting up libnginx-mod-stream (1.18.0-6ubuntu14.7) ...
Setting up libtiff5:amd64 (4.3.0-6ubuntu0.12) ...
Setting up libfontconfig1:amd64 (2.13.1-4.2ubuntu5) ...
Setting up libnginx-mod-stream-geoip2 (1.18.0-6ubuntu14.7) ...
Setting up libgd3:amd64 (2.3.0-2ubuntu2.3) ...
Setting up libnginx-mod-http-image-filter (1.18.0-6ubuntu14.7) ...
Setting up nginx-core (1.18.0-6ubuntu14.7) ...
 * Upgrading binary nginx       [80G [74G[ OK ]
Setting up nginx (1.18.0-6ubuntu14.7) ...
Processing triggers for ufw (0.36.1-4ubuntu0.1) ...
Processing triggers for man-db (2.10.2-1) ...
Processing triggers for libc-bin (2.35-0ubuntu3.11) ...
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

2025-11-14 20:07:35,734 p=1388245 u=ivan n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.10', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-14 20:07:35,734 p=1388245 u=ivan n=ansible INFO| web1 | CHANGED | rc=0 >>
‚óè nginx.service - A high performance web server and a reverse proxy server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: active (running) since Sat 2025-11-15 04:06:38 UTC; 55s ago
       Docs: man:nginx(8)
    Process: 9950 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 9951 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
   Main PID: 10046 (nginx)
      Tasks: 3 (limit: 1073)
     Memory: 5.4M
        CPU: 37ms
     CGroup: /system.slice/nginx.service
             ‚îú‚îÄ10046 "nginx: master process /usr/sbin/nginx -g daemon on; master_process on;"
             ‚îú‚îÄ10048 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
             ‚îî‚îÄ10049 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""

Nov 15 04:06:37 ip-172-31-70-162 systemd[1]: Starting A high performance web server and a reverse proxy server...
Nov 15 04:06:38 ip-172-31-70-162 systemd[1]: Started A high performance web server and a reverse proxy server.

2025-11-16 20:36:33,164 p=16961 u=gladkyi n=ansible INFO| ansible [core 2.19.4]
  config file = /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/ansible.cfg
  configured module search path = ['/Users/gladkyi/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ansible
  ansible collection location = /Users/gladkyi/.ansible/collections:/usr/share/ansible/collections
  executable location = /Library/Frameworks/Python.framework/Versions/3.11/bin/ansible
  python version = 3.11.9 (v3.11.9:de54cf5be3, Apr  2 2024, 07:12:50) [Clang 13.0.0 (clang-1300.0.29.30)] (/Library/Frameworks/Python.framework/Versions/3.11/bin/python3)
  jinja version = 3.1.6
  pyyaml version = 6.0.3 (with libyaml v0.2.5)
2025-11-16 20:36:33,164 p=16961 u=gladkyi n=ansible INFO| Using /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/ansible.cfg as config file
2025-11-16 20:36:33,212 p=16961 u=gladkyi n=ansible INFO| host_list declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:36:33,212 p=16961 u=gladkyi n=ansible INFO| script declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:36:33,212 p=16961 u=gladkyi n=ansible INFO| auto declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:36:33,212 p=16961 u=gladkyi n=ansible INFO| yaml declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:36:33,213 p=16961 u=gladkyi n=ansible INFO| Parsed /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini inventory source with ini plugin
2025-11-16 20:36:33,287 p=16961 u=gladkyi n=ansible INFO| Skipping callback 'default', as we already have a stdout callback.
2025-11-16 20:36:33,287 p=16961 u=gladkyi n=ansible INFO| Skipping callback 'oneline', as we already have a stdout callback.
2025-11-16 20:36:33,356 p=16961 u=gladkyi n=ansible INFO| <44.222.133.233> ESTABLISH SSH CONNECTION FOR USER: ubuntu
2025-11-16 20:36:33,357 p=16961 u=gladkyi n=ansible INFO| <35.174.19.100> ESTABLISH SSH CONNECTION FOR USER: ubuntu
2025-11-16 20:36:33,357 p=16961 u=gladkyi n=ansible INFO| <44.222.133.233> SSH: EXEC ssh -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/gladkyi/Desktop/AWS/KeyPairAWS.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="ubuntu"' -o ConnectTimeout=10 -o NumberOfPasswordPrompts=1 44.222.133.233 '/bin/sh -c '"'"'echo ~ubuntu && sleep 0'"'"''
2025-11-16 20:36:33,357 p=16961 u=gladkyi n=ansible INFO| <35.174.19.100> SSH: EXEC ssh -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/gladkyi/Desktop/AWS/KeyPairAWS.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="ubuntu"' -o ConnectTimeout=10 -o NumberOfPasswordPrompts=1 35.174.19.100 '/bin/sh -c '"'"'echo ~ubuntu && sleep 0'"'"''
2025-11-16 20:36:34,209 p=16961 u=gladkyi n=ansible INFO| <35.174.19.100> (255, b'', b"Warning: Permanently added '35.174.19.100' (ED25519) to the list of known hosts.\r\nno such identity: /Users/gladkyi/Desktop/AWS/KeyPairAWS.pem: No such file or directory\r\nubuntu@35.174.19.100: Permission denied (publickey).\r\n")
2025-11-16 20:36:34,210 p=16961 u=gladkyi n=ansible INFO| <44.222.133.233> (255, b'', b"Warning: Permanently added '44.222.133.233' (ED25519) to the list of known hosts.\r\nno such identity: /Users/gladkyi/Desktop/AWS/KeyPairAWS.pem: No such file or directory\r\nubuntu@44.222.133.233: Permission denied (publickey).\r\n")
2025-11-16 20:36:34,218 p=16961 u=gladkyi n=ansible ERROR| [ERROR]: Task failed: Failed to connect to the host via ssh: Warning: Permanently added '35.174.19.100' (ED25519) to the list of known hosts.
no such identity: /Users/gladkyi/Desktop/AWS/KeyPairAWS.pem: No such file or directory
ubuntu@35.174.19.100: Permission denied (publickey).
Origin: <adhoc 'ping' task>

{'action': 'ping', 'args': {}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-16 20:36:34,218 p=16961 u=gladkyi n=ansible INFO| web1 | UNREACHABLE! => {
    "changed": false,
    "msg": "Task failed: Failed to connect to the host via ssh: Warning: Permanently added '35.174.19.100' (ED25519) to the list of known hosts.\r\nno such identity: /Users/gladkyi/Desktop/AWS/KeyPairAWS.pem: No such file or directory\r\nubuntu@35.174.19.100: Permission denied (publickey).",
    "unreachable": true
}
2025-11-16 20:36:34,219 p=16961 u=gladkyi n=ansible ERROR| [ERROR]: Task failed: Failed to connect to the host via ssh: Warning: Permanently added '44.222.133.233' (ED25519) to the list of known hosts.
no such identity: /Users/gladkyi/Desktop/AWS/KeyPairAWS.pem: No such file or directory
ubuntu@44.222.133.233: Permission denied (publickey).
Origin: <adhoc 'ping' task>

{'action': 'ping', 'args': {}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-16 20:36:34,219 p=16961 u=gladkyi n=ansible INFO| db1 | UNREACHABLE! => {
    "changed": false,
    "msg": "Task failed: Failed to connect to the host via ssh: Warning: Permanently added '44.222.133.233' (ED25519) to the list of known hosts.\r\nno such identity: /Users/gladkyi/Desktop/AWS/KeyPairAWS.pem: No such file or directory\r\nubuntu@44.222.133.233: Permission denied (publickey).",
    "unreachable": true
}
2025-11-16 20:37:57,083 p=17183 u=gladkyi n=ansible INFO| ansible [core 2.19.4]
  config file = /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/ansible.cfg
  configured module search path = ['/Users/gladkyi/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ansible
  ansible collection location = /Users/gladkyi/.ansible/collections:/usr/share/ansible/collections
  executable location = /Library/Frameworks/Python.framework/Versions/3.11/bin/ansible
  python version = 3.11.9 (v3.11.9:de54cf5be3, Apr  2 2024, 07:12:50) [Clang 13.0.0 (clang-1300.0.29.30)] (/Library/Frameworks/Python.framework/Versions/3.11/bin/python3)
  jinja version = 3.1.6
  pyyaml version = 6.0.3 (with libyaml v0.2.5)
2025-11-16 20:37:57,084 p=17183 u=gladkyi n=ansible INFO| Using /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/ansible.cfg as config file
2025-11-16 20:37:57,120 p=17183 u=gladkyi n=ansible INFO| host_list declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:37:57,120 p=17183 u=gladkyi n=ansible INFO| script declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:37:57,120 p=17183 u=gladkyi n=ansible INFO| auto declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:37:57,120 p=17183 u=gladkyi n=ansible INFO| yaml declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:37:57,121 p=17183 u=gladkyi n=ansible INFO| Parsed /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini inventory source with ini plugin
2025-11-16 20:37:57,134 p=17183 u=gladkyi n=ansible INFO| Skipping callback 'default', as we already have a stdout callback.
2025-11-16 20:37:57,134 p=17183 u=gladkyi n=ansible INFO| Skipping callback 'oneline', as we already have a stdout callback.
2025-11-16 20:37:57,166 p=17183 u=gladkyi n=ansible INFO| <15.237.101.218> ESTABLISH SSH CONNECTION FOR USER: ubuntu
2025-11-16 20:37:57,166 p=17183 u=gladkyi n=ansible INFO| <15.237.101.218> SSH: EXEC ssh -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/gladkyi/.ssh/KeyPairAWS.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="ubuntu"' -o ConnectTimeout=10 -o NumberOfPasswordPrompts=1 15.237.101.218 '/bin/sh -c '"'"'echo ~ubuntu && sleep 0'"'"''
2025-11-16 20:37:57,403 p=17183 u=gladkyi n=ansible INFO| <15.237.101.218> (255, b'', b"Warning: Permanently added '15.237.101.218' (ED25519) to the list of known hosts.\r\nubuntu@15.237.101.218: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).\r\n")
2025-11-16 20:37:57,409 p=17183 u=gladkyi n=ansible ERROR| [ERROR]: Task failed: Failed to connect to the host via ssh: Warning: Permanently added '15.237.101.218' (ED25519) to the list of known hosts.
ubuntu@15.237.101.218: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).
Origin: <adhoc 'ping' task>

{'action': 'ping', 'args': {}, 'timeout': 0, 'async_val': 0, 'poll': 15}


2025-11-16 20:37:57,410 p=17183 u=gladkyi n=ansible INFO| web1 | UNREACHABLE! => {
    "changed": false,
    "msg": "Task failed: Failed to connect to the host via ssh: Warning: Permanently added '15.237.101.218' (ED25519) to the list of known hosts.\r\nubuntu@15.237.101.218: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).",
    "unreachable": true
}
2025-11-16 20:46:02,056 p=17910 u=gladkyi n=ansible INFO| ansible [core 2.19.4]
  config file = /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/ansible.cfg
  configured module search path = ['/Users/gladkyi/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ansible
  ansible collection location = /Users/gladkyi/.ansible/collections:/usr/share/ansible/collections
  executable location = /Library/Frameworks/Python.framework/Versions/3.11/bin/ansible
  python version = 3.11.9 (v3.11.9:de54cf5be3, Apr  2 2024, 07:12:50) [Clang 13.0.0 (clang-1300.0.29.30)] (/Library/Frameworks/Python.framework/Versions/3.11/bin/python3)
  jinja version = 3.1.6
  pyyaml version = 6.0.3 (with libyaml v0.2.5)
2025-11-16 20:46:02,057 p=17910 u=gladkyi n=ansible INFO| Using /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/ansible.cfg as config file
2025-11-16 20:46:02,096 p=17910 u=gladkyi n=ansible INFO| host_list declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:46:02,096 p=17910 u=gladkyi n=ansible INFO| script declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:46:02,096 p=17910 u=gladkyi n=ansible INFO| auto declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:46:02,096 p=17910 u=gladkyi n=ansible INFO| yaml declined parsing /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini as it did not pass its verify_file() method
2025-11-16 20:46:02,096 p=17910 u=gladkyi n=ansible INFO| Parsed /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/inventory.ini inventory source with ini plugin
2025-11-16 20:46:02,114 p=17910 u=gladkyi n=ansible INFO| Skipping callback 'default', as we already have a stdout callback.
2025-11-16 20:46:02,114 p=17910 u=gladkyi n=ansible INFO| Skipping callback 'oneline', as we already have a stdout callback.
2025-11-16 20:46:02,150 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> ESTABLISH SSH CONNECTION FOR USER: ec2-user
2025-11-16 20:46:02,150 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> SSH: EXEC ssh -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/gladkyi/.ssh/KeyPairAWS.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="ec2-user"' -o ConnectTimeout=10 -o NumberOfPasswordPrompts=1 15.237.101.218 '/bin/sh -c '"'"'echo ~ec2-user && sleep 0'"'"''
2025-11-16 20:46:02,595 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> (0, b'/home/ec2-user\n', b'')
2025-11-16 20:46:02,595 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> ESTABLISH SSH CONNECTION FOR USER: ec2-user
2025-11-16 20:46:02,596 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> SSH: EXEC ssh -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/gladkyi/.ssh/KeyPairAWS.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="ec2-user"' -o ConnectTimeout=10 -o NumberOfPasswordPrompts=1 15.237.101.218 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/ec2-user/.ansible/tmp `"&& mkdir "` echo /home/ec2-user/.ansible/tmp/ansible-tmp-1763322362.5949519-17911-187691669920209 `" && echo ansible-tmp-1763322362.5949519-17911-187691669920209="` echo /home/ec2-user/.ansible/tmp/ansible-tmp-1763322362.5949519-17911-187691669920209 `" ) && sleep 0'"'"''
2025-11-16 20:46:03,033 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> (0, b'ansible-tmp-1763322362.5949519-17911-187691669920209=/home/ec2-user/.ansible/tmp/ansible-tmp-1763322362.5949519-17911-187691669920209\n', b'')
2025-11-16 20:46:03,119 p=17910 u=gladkyi n=ansible INFO| <web1> Attempting python interpreter discovery.
2025-11-16 20:46:03,120 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> ESTABLISH SSH CONNECTION FOR USER: ec2-user
2025-11-16 20:46:03,120 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> SSH: EXEC ssh -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/gladkyi/.ssh/KeyPairAWS.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="ec2-user"' -o ConnectTimeout=10 -o NumberOfPasswordPrompts=1 15.237.101.218 '/bin/sh -c '"'"'echo FOUND; command -v '"'"'"'"'"'"'"'"'python3.13'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.12'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.11'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.10'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.9'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.8'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/bin/python3'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3'"'"'"'"'"'"'"'"'; echo ENDFOUND && sleep 0'"'"''
2025-11-16 20:46:03,526 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> (0, b'FOUND\n/usr/bin/python3.9\n/usr/bin/python3\n/usr/bin/python3\nENDFOUND\n', b'')
2025-11-16 20:46:03,533 p=17910 u=gladkyi n=ansible INFO| Using module file /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ansible/modules/ping.py
2025-11-16 20:46:03,535 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> PUT /Users/gladkyi/.ansible/tmp/ansible-local-17910zim0zmyw/tmpm8amz573 TO /home/ec2-user/.ansible/tmp/ansible-tmp-1763322362.5949519-17911-187691669920209/AnsiballZ_ping.py
2025-11-16 20:46:03,535 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> SSH: EXEC sftp -b - -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/gladkyi/.ssh/KeyPairAWS.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="ec2-user"' -o ConnectTimeout=10 -o NumberOfPasswordPrompts=1 '[15.237.101.218]'
2025-11-16 20:46:04,194 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> (0, b'sftp> put /Users/gladkyi/.ansible/tmp/ansible-local-17910zim0zmyw/tmpm8amz573 /home/ec2-user/.ansible/tmp/ansible-tmp-1763322362.5949519-17911-187691669920209/AnsiballZ_ping.py\n', b'')
2025-11-16 20:46:04,196 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> ESTABLISH SSH CONNECTION FOR USER: ec2-user
2025-11-16 20:46:04,196 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> SSH: EXEC ssh -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/gladkyi/.ssh/KeyPairAWS.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="ec2-user"' -o ConnectTimeout=10 -o NumberOfPasswordPrompts=1 15.237.101.218 '/bin/sh -c '"'"'chmod u+rwx /home/ec2-user/.ansible/tmp/ansible-tmp-1763322362.5949519-17911-187691669920209/ /home/ec2-user/.ansible/tmp/ansible-tmp-1763322362.5949519-17911-187691669920209/AnsiballZ_ping.py && sleep 0'"'"''
2025-11-16 20:46:04,630 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> (0, b'', b'')
2025-11-16 20:46:04,630 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> ESTABLISH SSH CONNECTION FOR USER: ec2-user
2025-11-16 20:46:04,630 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> SSH: EXEC ssh -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/gladkyi/.ssh/KeyPairAWS.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="ec2-user"' -o ConnectTimeout=10 -o NumberOfPasswordPrompts=1 -tt 15.237.101.218 '/bin/sh -c '"'"'/usr/bin/python3.9 /home/ec2-user/.ansible/tmp/ansible-tmp-1763322362.5949519-17911-187691669920209/AnsiballZ_ping.py && sleep 0'"'"''
2025-11-16 20:46:05,274 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> (0, b'\r\n{"ping": "pong", "invocation": {"module_args": {"data": "pong"}}}\r\n', b'Connection to 15.237.101.218 closed.\r\n')
2025-11-16 20:46:05,278 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> ESTABLISH SSH CONNECTION FOR USER: ec2-user
2025-11-16 20:46:05,278 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> SSH: EXEC ssh -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o 'IdentityFile="/Users/gladkyi/.ssh/KeyPairAWS.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o 'User="ec2-user"' -o ConnectTimeout=10 -o NumberOfPasswordPrompts=1 15.237.101.218 '/bin/sh -c '"'"'rm -f -r /home/ec2-user/.ansible/tmp/ansible-tmp-1763322362.5949519-17911-187691669920209/ > /dev/null 2>&1 && sleep 0'"'"''
2025-11-16 20:46:05,708 p=17910 u=gladkyi n=ansible INFO| <15.237.101.218> (0, b'', b'')
2025-11-16 20:46:05,717 p=17910 u=gladkyi n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.9', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-16 20:46:05,718 p=17910 u=gladkyi n=ansible INFO| web1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3.9"
    },
    "changed": false,
    "invocation": {
        "module_args": {
            "data": "pong"
        }
    },
    "ping": "pong"
}
2025-11-16 21:00:58,368 p=18445 u=gladkyi n=ansible INFO| PLAY [Install Apache web server on web nodes] *******************************************************************************************************************************************
2025-11-16 21:00:58,372 p=18445 u=gladkyi n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************************************************************
2025-11-16 21:00:58,597 p=18445 u=gladkyi n=ansible ERROR| [ERROR]: Task failed: Failed to connect to the host via ssh: no such identity: /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/ansible.pem: No such file or directory
ec2-user@15.237.101.218: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).


2025-11-16 21:00:58,598 p=18445 u=gladkyi n=ansible INFO| fatal: [web1]: UNREACHABLE! => {"changed": false, "msg": "Task failed: Failed to connect to the host via ssh: no such identity: /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/ansible.pem: No such file or directory\r\nec2-user@15.237.101.218: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).", "unreachable": true}
2025-11-16 21:00:58,598 p=18445 u=gladkyi n=ansible INFO| PLAY RECAP ******************************************************************************************************************************************************************************
2025-11-16 21:00:58,598 p=18445 u=gladkyi n=ansible INFO| web1                       : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2025-11-16 21:06:29,851 p=18656 u=gladkyi n=ansible INFO| PLAY [Install Apache web server on web nodes] *******************************************************************************************************************************************
2025-11-16 21:06:29,854 p=18656 u=gladkyi n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************************************************************
2025-11-16 21:06:34,213 p=18656 u=gladkyi n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.9', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-16 21:06:34,213 p=18656 u=gladkyi n=ansible INFO| ok: [web1]
2025-11-16 21:06:34,216 p=18656 u=gladkyi n=ansible INFO| TASK [Update apt cache] *****************************************************************************************************************************************************************
2025-11-16 21:06:37,532 p=18656 u=gladkyi n=ansible WARNING| [WARNING]: Updating cache and auto-installing missing dependency: python3-apt

2025-11-16 21:06:37,533 p=18656 u=gladkyi n=ansible ERROR| [ERROR]: Task failed: Module failed: Error executing command: [Errno 2] No such file or directory: b'update'
Origin: /Users/gladkyi/PycharmProjects/DevOps_2025_Sept/lesson_16/apache.yml:7:7

5
6   tasks:
7     - name: Update apt cache
        ^ column 7


2025-11-16 21:06:37,533 p=18656 u=gladkyi n=ansible INFO| fatal: [web1]: FAILED! => {"changed": false, "cmd": "update", "msg": "Error executing command.", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2025-11-16 21:06:37,534 p=18656 u=gladkyi n=ansible INFO| PLAY RECAP ******************************************************************************************************************************************************************************
2025-11-16 21:06:37,534 p=18656 u=gladkyi n=ansible INFO| web1                       : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-11-16 21:10:15,583 p=18880 u=gladkyi n=ansible INFO| PLAY [Install Apache web server on web nodes] *******************************************************************************************************************************************
2025-11-16 21:10:15,586 p=18880 u=gladkyi n=ansible INFO| TASK [Gathering Facts] ******************************************************************************************************************************************************************
2025-11-16 21:10:19,968 p=18880 u=gladkyi n=ansible WARNING| [WARNING]: Host 'web1' is using the discovered Python interpreter at '/usr/bin/python3.9', but future installation of another Python interpreter could cause a different interpreter to be discovered. See https://docs.ansible.com/ansible-core/2.19/reference_appendices/interpreter_discovery.html for more information.

2025-11-16 21:10:19,968 p=18880 u=gladkyi n=ansible INFO| ok: [web1]
2025-11-16 21:10:19,972 p=18880 u=gladkyi n=ansible INFO| TASK [Update yum cache] *****************************************************************************************************************************************************************
2025-11-16 21:10:23,804 p=18880 u=gladkyi n=ansible INFO| ok: [web1]
2025-11-16 21:10:23,808 p=18880 u=gladkyi n=ansible INFO| TASK [Install Ngnx] *********************************************************************************************************************************************************************
2025-11-16 21:10:28,590 p=18880 u=gladkyi n=ansible INFO| changed: [web1]
2025-11-16 21:10:28,595 p=18880 u=gladkyi n=ansible INFO| TASK [Enable and start Nginx service] ***************************************************************************************************************************************************
2025-11-16 21:10:32,493 p=18880 u=gladkyi n=ansible INFO| changed: [web1]
2025-11-16 21:10:32,495 p=18880 u=gladkyi n=ansible INFO| PLAY RECAP ******************************************************************************************************************************************************************************
2025-11-16 21:10:32,495 p=18880 u=gladkyi n=ansible INFO| web1                       : ok=4    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
